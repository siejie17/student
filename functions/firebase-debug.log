[debug] [2025-05-11T14:03:53.247Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:03:53.266Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:03:53.267Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:03:53.267Z] Platform:      win32
[debug] [2025-05-11T14:03:53.270Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:03:53.272Z] Time:          Sun May 11 2025 22:03:53 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:03:53.272Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:03:53.763Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:03:53.764Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:03:53.764Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:03:53.767Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:03:53.768Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:03:53.776Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:03:53.777Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:03:53.777Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:03:55.089Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:03:55.089Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:03:55.089Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:03:55.090Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:03:55.090Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:03:55.090Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:03:56.461Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:03:56.462Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:03:58.823Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:03:58.824Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:03:58.824Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:03:58.825Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:00.494Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:04:00.495Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:04:00.495Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:00.495Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:00.495Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:04:01.672Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:04:01.672Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:01.675Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:01.675Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:01.675Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:01.675Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:01.676Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:01.676Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:01.676Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:01.676Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:01.676Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:04:01.676Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:01.678Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:04:01.678Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:01.681Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:04:01.681Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:01.685Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:04:01.686Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:02.053Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:04:02.053Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:04:03.139Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:04:03.139Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:04:03.142Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:04:03.143Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:04:03.165Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:04:03.165Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:04:03.166Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:03.167Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:03.167Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:04:03.794Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:04:03.795Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:04:03.796Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:03.797Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:03.797Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:04:04.211Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:04:04.212Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:04:04.215Z] Validating nodejs source
[debug] [2025-05-11T14:04:06.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:04:06.827Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:04:06.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:04:06.848Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8560

[debug] [2025-05-11T14:04:07.509Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:11.562Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:11.562Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:11.562Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:04:11.563Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:13.008Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:04:13.008Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:04:13.008Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:04:13.009Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:04:13.009Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:04:13.009Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:13.009Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:13.009Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:04:13.009Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:13.009Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:04:14.138Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:04:14.138Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:04:14.139Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:14.139Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:14.140Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:04:15.473Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:04:15.473Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:04:15.531Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:15.531Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:15.531Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:04:16.400Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:04:16.400Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:04:16.400Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:16.400Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:16.400Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:04:18.068Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:04:18.068Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {"functions":[{"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"build":"projects/376632403855/locations/us-central1/builds/655c6031-c40e-478c-813e-2cbed3bfd83f","runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746971818080801"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746971818080801"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-05-11T13:57:51.909025230Z","labels":{"firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","createTime":"2025-05-11T13:56:58.341416048Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:18.071Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:18.071Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:18.071Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:04:18.071Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:19.525Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:04:19.525Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:19.526Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:19.527Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:19.527Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:19.527Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:19.527Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:19.527Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:04:19.528Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:19.528Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:19.528Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:04:19.528Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:19.528Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:04:19.528Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:19.530Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:04:19.530Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:19.532Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:04:19.533Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:19.882Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:04:19.883Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:04:20.944Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:04:20.944Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:04:20.975Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:04:20.975Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[debug] [2025-05-11T14:04:20.977Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:04:20.977Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:04:20.978Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:20.978Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:04:20.979Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:20.979Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:20.979Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:04:20.979Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:04:21.331Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:04:21.331Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:04:21.400Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:04:21.400Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:04:21.402Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:21.402Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:21.402Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:04:21.402Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:04:22.346Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:04:22.346Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:04:22.346Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:22.346Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:22.346Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:04:23.501Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:04:23.501Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:04:23.503Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:23.503Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:23.503Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:04:24.972Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:04:24.972Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[info] i  functions: updating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:04:24.983Z] Precondition failed. Cannot update a GCFv2 function without storage
[debug] [2025-05-11T14:04:24.995Z] Total Function Deployment time: 4
[debug] [2025-05-11T14:04:24.995Z] 1 Functions Deployed
[debug] [2025-05-11T14:04:24.995Z] 1 Functions Errored
[debug] [2025-05-11T14:04:24.995Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:04:24.995Z] Average Function Deployment time: 1
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:04:25.152Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:25.152Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:04:25.152Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:04:26.570Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:04:26.571Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:04:26.571Z] Functions deploy failed.
[debug] [2025-05-11T14:04:26.572Z] {}
[debug] [2025-05-11T14:04:26.610Z] Error: Precondition failed
    at Fabricator.updateV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:382:19)
    at Fabricator.updateEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:24)
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:71
    at handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:23)
    at Fabricator.applyChangeset (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:26)
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:69:40
    at Array.map (<anonymous>)
    at Fabricator.applyPlan (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:68:54)
    at release (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\index.js:76:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:05:18.209Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:05:18.228Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:05:18.229Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:05:18.229Z] Platform:      win32
[debug] [2025-05-11T14:05:18.229Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:05:18.230Z] Time:          Sun May 11 2025 22:05:18 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:05:18.231Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:05:18.633Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:05:18.634Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:05:18.634Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:05:18.636Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:18.637Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:18.639Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:05:18.639Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:18.639Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:05:19.953Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:05:19.953Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:05:19.953Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:19.953Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:19.954Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:05:19.954Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:05:21.333Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:05:21.334Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:05:22.937Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:22.937Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:22.938Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:05:22.938Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:24.390Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:05:24.390Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:05:24.391Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.391Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.391Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:05:24.689Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:05:24.689Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:24.691Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.692Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.692Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.692Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:24.692Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.692Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:24.693Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.693Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:24.693Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:05:24.693Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:24.694Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:05:24.694Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:24.696Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:05:24.696Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:24.699Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:05:24.700Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:25.036Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:05:25.036Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:05:26.132Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:05:26.132Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:05:26.137Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:05:26.137Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:05:26.150Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:05:26.151Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:05:26.151Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:26.152Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:26.152Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:05:26.555Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:05:26.555Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:05:26.556Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:26.556Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:26.556Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:05:27.002Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:05:27.003Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:05:27.004Z] Validating nodejs source
[debug] [2025-05-11T14:05:31.311Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:05:31.312Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:05:31.314Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:05:31.330Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8760

[debug] [2025-05-11T14:05:32.050Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:36.096Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:36.097Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:36.097Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:05:36.097Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:37.635Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:05:37.635Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:05:37.635Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:05:37.636Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:05:37.636Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:05:37.636Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:37.636Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:37.636Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:05:37.636Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:37.636Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:05:38.779Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:05:38.779Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:05:38.780Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:38.780Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:38.780Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:05:40.100Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:05:40.101Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:05:40.154Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:40.154Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:40.154Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:05:40.937Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:05:40.937Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:05:40.938Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:40.938Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:40.938Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:05:42.537Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:05:42.537Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:42.541Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:42.541Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:42.541Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:05:42.541Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:43.596Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:05:43.596Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:43.597Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:43.597Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:43.598Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:43.598Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:43.598Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:43.598Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:05:43.599Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:43.599Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:43.599Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:05:43.599Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:43.600Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:05:43.600Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:43.602Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:05:43.602Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:43.603Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:05:43.604Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:43.972Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:05:43.972Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:05:45.051Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:05:45.051Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:05:45.065Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:05:45.065Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[debug] [2025-05-11T14:05:45.071Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:05:45.071Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:05:45.072Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:45.073Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:05:45.073Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:45.073Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:45.073Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:05:45.074Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:05:45.405Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:05:45.406Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:05:45.461Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:05:45.461Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:05:45.463Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:45.463Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:45.463Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:05:45.463Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:05:46.489Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:05:46.489Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:05:46.490Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:46.490Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:46.490Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:05:46.852Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:05:46.853Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:05:46.854Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:46.854Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:46.854Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:05:48.220Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:05:48.220Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[debug] [2025-05-11T14:05:48.222Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:48.222Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:48.222Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-11T14:05:49.695Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-11T14:05:49.695Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip?GoogleAccessId=service-376632403855@gcf-admin-robot.iam.gserviceaccount.com&Expires=1746974151&Signature=KRZAiXygSCTdPGHPV0dMk10Oo0MOX0%2FYOtTZ0MXPPZFaI5o13WpuAMQHR7zr89SJWkO7HaGFHZU5SoHtarn3BcjYlbdyJLYPeuNfbwgg8Sa9%2FcC4TJsqd%2FET3qMH7OSXoMMzSSJyx9XN0XJXn8yBYTLTN7lprGKnA3p48f9wcYP03BreqWwJjRtAEIPKg5PHak2Y3Gpt3FjsKzfKQugvlKwZlDuqj2h9D0Zbev12fR1jecLAMK9%2F7o5idbge3cixRWzMFU2JuTmXZuTulBj4nv3An8MsDnbLnFvswFSPnwLf1nUj5aV4UURowFN3dBbIp8%2FcA%2BF0VzVidlof7gnNOA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip"}}
[debug] [2025-05-11T14:05:49.696Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip GoogleAccessId=service-376632403855%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1746974151&Signature=KRZAiXygSCTdPGHPV0dMk10Oo0MOX0%2FYOtTZ0MXPPZFaI5o13WpuAMQHR7zr89SJWkO7HaGFHZU5SoHtarn3BcjYlbdyJLYPeuNfbwgg8Sa9%2FcC4TJsqd%2FET3qMH7OSXoMMzSSJyx9XN0XJXn8yBYTLTN7lprGKnA3p48f9wcYP03BreqWwJjRtAEIPKg5PHak2Y3Gpt3FjsKzfKQugvlKwZlDuqj2h9D0Zbev12fR1jecLAMK9%2F7o5idbge3cixRWzMFU2JuTmXZuTulBj4nv3An8MsDnbLnFvswFSPnwLf1nUj5aV4UURowFN3dBbIp8%2FcA%2BF0VzVidlof7gnNOA%3D%3D
[debug] [2025-05-11T14:05:49.696Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip [stream]
[debug] [2025-05-11T14:05:51.595Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip 200
[debug] [2025-05-11T14:05:51.595Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:05:51.601Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:51.601Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:51.602Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions functionId=monthlyLeaderboardRefresh
[debug] [2025-05-11T14:05:51.602Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"cc6973aa-0f7c-4c64-9098-15eacc7c83f5.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"}}
[debug] [2025-05-11T14:05:53.426Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions 200
[debug] [2025-05-11T14:05:53.426Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-11T14:05:53.427Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:53.428Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:53.428Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:05:54.734Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:05:54.735Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:05:55.238Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:05:55.239Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:55.239Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:55.239Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:05:56.519Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:05:56.519Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:05:57.523Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:05:57.524Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:57.524Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:05:57.525Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:05:59.024Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:05:59.024Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:06:01.039Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:06:01.039Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:01.039Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:01.040Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:06:02.317Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:06:02.317Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:06:06.321Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:06:06.322Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:06.322Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:06.322Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:06:07.658Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:06:07.659Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:06:15.675Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:06:15.675Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:15.675Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:15.676Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:06:17.025Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:06:17.025Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:06:27.037Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:06:27.038Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:27.039Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:27.039Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:06:28.341Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:06:28.342Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:06:38.352Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:06:38.353Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:38.353Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:38.354Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:06:39.685Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:06:39.685Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:06:49.685Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:06:49.685Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:49.686Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:06:49.686Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:06:50.993Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:06:50.994Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:07:00.998Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:07:00.999Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:00.999Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:00.999Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:07:02.345Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:07:02.346Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:07:12.348Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:07:12.348Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:12.349Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:12.349Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:07:13.777Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:07:13.777Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:07:23.781Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:07:23.782Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:23.782Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:23.783Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:07:25.214Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:07:25.214Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:07:35.228Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:07:35.229Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:35.229Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:35.230Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:07:36.586Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:07:36.586Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:07:46.591Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:07:46.592Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:46.592Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:46.592Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:07:47.921Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:07:47.921Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd"},"done":false}
[debug] [2025-05-11T14:07:57.926Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:07:57.926Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:57.926Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:57.927Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 [none]
[debug] [2025-05-11T14:07:59.337Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 200
[debug] [2025-05-11T14:07:59.338Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972354696-634dcb2a25445-c21768dc-932151e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:05:55.180778916Z","endTime":"2025-05-11T14:07:51.344199493Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972354957188"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_06_14_654Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855."}}
[debug] [2025-05-11T14:07:59.354Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: jest@29.7.0 from lock file
npm error Missing: @jest/core@29.7.0 from lock file
npm error Missing: @jest/types@29.6.3 from lock file
npm error Missing: import-local@3.2.0 from lock file
npm error Missing: jest-cli@29.7.0 from lock file
npm error Missing: @jest/console@29.7.0 from lock file
npm error Missing: @jest/reporters@29.7.0 from lock file
npm error Missing: @jest/test-result@29.7.0 from lock file
npm error Missing: @jest/transform@29.7.0 from lock file
npm error Missing: ansi-escapes@4.3.2 from lock file
npm error Missing: ci-info@3.9.0 from lock file
npm error Missing: exit@0.1.2 from lock file
npm error Missing: graceful-fs@4.2.11 from lock file
npm error Missing: jest-changed-files@29.7.0 from lock file
npm error Missing: jest-config@29.7.0 from lock file
npm error Missing: jest-haste-map@29.7.0 from lock file
npm error Missing: jest-message-util@29.7.0 from lock file
npm error Missing: jest-regex-util@29.6.3 from lock file
npm error Missing: jest-resolve@29.7.0 from lock file
npm error Missing: jest-resolve-dependencies@29.7.0 from lock file
npm error Missing: jest-runner@29.7.0 from lock file
npm error Missing: jest-runtime@29.7.0 from lock file
npm error Missing: jest-snapshot@29.7.0 from lock file
npm error Missing: jest-util@29.7.0 from lock file
npm error Missing: jest-validate@29.7.0 from lock file
npm error Missing: jest-watcher@29.7.0 from lock file
npm error Missing: micromatch@4.0.8 from lock file
npm error Missing: pretty-format@29.7.0 from lock file
npm error Missing: slash@3.0.0 from lock file
npm error Missing: @bcoe/v8-coverage@0.2.3 from lock file
npm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file
npm error Missing: collect-v8-coverage@1.0.2 from lock file
npm error Missing: istanbul-lib-coverage@3.2.2 from lock file
npm error Missing: istanbul-lib-instrument@6.0.3 from lock file
npm error Missing: istanbul-lib-report@3.0.1 from lock file
npm error Missing: istanbul-lib-source-maps@4.0.1 from lock file
npm error Missing: istanbul-reports@3.1.7 from lock file
npm error Missing: jest-worker@29.7.0 from lock file
npm error Missing: string-length@4.0.2 from lock file
npm error Missing: v8-to-istanbul@9.3.0 from lock file
npm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file
npm error Missing: @babel/core@7.27.1 from lock file
npm error Missing: babel-plugin-istanbul@6.1.1 from lock file
npm error Missing: convert-source-map@2.0.0 from lock file
npm error Missing: pirates@4.0.7 from lock file
npm error Missing: write-file-atomic@4.0.2 from lock file
npm error Missing: @ampproject/remapping@2.3.0 from lock file
npm error Missing: @babel/code-frame@7.27.1 from lock file
npm error Missing: @babel/generator@7.27.1 from lock file
npm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file
npm error Missing: @babel/helper-module-transforms@7.27.1 from lock file
npm error Missing: @babel/helpers@7.27.1 from lock file
npm error Missing: @babel/parser@7.27.2 from lock file
npm error Missing: @babel/template@7.27.2 from lock file
npm error Missing: @babel/traverse@7.27.1 from lock file
npm error Missing: @babel/types@7.27.1 from lock file
npm error Missing: gensync@1.0.0-beta.2 from lock file
npm error Missing: json5@2.2.3 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file
npm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file
npm error Missing: js-tokens@4.0.0 from lock file
npm error Missing: picocolors@1.1.1 from lock file
npm error Missing: jsesc@3.1.0 from lock file
npm error Missing: @babel/compat-data@7.27.2 from lock file
npm error Missing: @babel/helper-validator-option@7.27.1 from lock file
npm error Missing: browserslist@4.24.5 from lock file
npm error Missing: lru-cache@5.1.1 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @babel/helper-module-imports@7.27.1 from lock file
npm error Missing: globals@11.12.0 from lock file
npm error Missing: @babel/helper-string-parser@7.27.1 from lock file
npm error Missing: @jest/schemas@29.6.3 from lock file
npm error Missing: @types/istanbul-reports@3.0.4 from lock file
npm error Missing: @types/yargs@17.0.33 from lock file
npm error Missing: @sinclair/typebox@0.27.8 from lock file
npm error Missing: @jridgewell/set-array@1.2.1 from lock file
npm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file
npm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file
npm error Missing: @types/istanbul-lib-report@3.0.3 from lock file
npm error Missing: @types/yargs-parser@21.0.3 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file
npm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file
npm error Missing: @istanbuljs/schema@0.1.3 from lock file
npm error Missing: istanbul-lib-instrument@5.2.1 from lock file
npm error Missing: test-exclude@6.0.0 from lock file
npm error Missing: camelcase@5.3.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: get-package-type@0.1.0 from lock file
npm error Missing: js-yaml@3.14.1 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: caniuse-lite@1.0.30001717 from lock file
npm error Missing: electron-to-chromium@1.5.151 from lock file
npm error Missing: node-releases@2.0.19 from lock file
npm error Missing: update-browserslist-db@1.1.3 from lock file
npm error Missing: pkg-dir@4.2.0 from lock file
npm error Missing: resolve-cwd@3.0.0 from lock file
npm error Missing: make-dir@4.0.0 from lock file
npm error Missing: source-map@0.6.1 from lock file
npm error Missing: html-escaper@2.0.2 from lock file
npm error Missing: execa@5.1.1 from lock file
npm error Missing: get-stream@6.0.1 from lock file
npm error Missing: human-signals@2.1.0 from lock file
npm error Missing: merge-stream@2.0.0 from lock file
npm error Missing: npm-run-path@4.0.1 from lock file
npm error Missing: onetime@5.1.2 from lock file
npm error Missing: signal-exit@3.0.7 from lock file
npm error Missing: strip-final-newline@2.0.0 from lock file
npm error Missing: create-jest@29.7.0 from lock file
npm error Missing: prompts@2.4.2 from lock file
npm error Missing: @jest/test-sequencer@29.7.0 from lock file
npm error Missing: babel-jest@29.7.0 from lock file
npm error Missing: deepmerge@4.3.1 from lock file
npm error Missing: jest-circus@29.7.0 from lock file
npm error Missing: jest-environment-node@29.7.0 from lock file
npm error Missing: jest-get-type@29.6.3 from lock file
npm error Missing: parse-json@5.2.0 from lock file
npm error Missing: @types/babel__core@7.20.5 from lock file
npm error Missing: babel-preset-jest@29.6.3 from lock file
npm error Missing: @types/babel__generator@7.27.0 from lock file
npm error Missing: @types/babel__template@7.4.4 from lock file
npm error Missing: @types/babel__traverse@7.20.7 from lock file
npm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file
npm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file
npm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file
npm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file
npm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file
npm error Missing: @jest/environment@29.7.0 from lock file
npm error Missing: @jest/expect@29.7.0 from lock file
npm error Missing: co@4.6.0 from lock file
npm error Missing: dedent@1.6.0 from lock file
npm error Missing: is-generator-fn@2.1.0 from lock file
npm error Missing: jest-each@29.7.0 from lock file
npm error Missing: jest-matcher-utils@29.7.0 from lock file
npm error Missing: pure-rand@6.1.0 from lock file
npm error Missing: stack-utils@2.0.6 from lock file
npm error Missing: @jest/fake-timers@29.7.0 from lock file
npm error Missing: jest-mock@29.7.0 from lock file
npm error Missing: expect@29.7.0 from lock file
npm error Missing: @sinonjs/fake-timers@10.3.0 from lock file
npm error Missing: @sinonjs/commons@3.0.1 from lock file
npm error Missing: type-detect@4.0.8 from lock file
npm error Missing: @jest/expect-utils@29.7.0 from lock file
npm error Missing: @types/graceful-fs@4.1.9 from lock file
npm error Missing: anymatch@3.1.3 from lock file
npm error Missing: fb-watchman@2.0.2 from lock file
npm error Missing: fsevents@2.3.3 from lock file
npm error Missing: walker@1.0.8 from lock file
npm error Missing: normalize-path@3.0.0 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: bser@2.1.1 from lock file
npm error Missing: node-int64@0.4.0 from lock file
npm error Missing: jest-diff@29.7.0 from lock file
npm error Missing: diff-sequences@29.6.3 from lock file
npm error Missing: @types/stack-utils@2.0.3 from lock file
npm error Missing: jest-pnp-resolver@1.2.3 from lock file
npm error Missing: resolve@1.22.10 from lock file
npm error Missing: resolve.exports@2.0.3 from lock file
npm error Missing: emittery@0.13.1 from lock file
npm error Missing: jest-docblock@29.7.0 from lock file
npm error Missing: jest-leak-detector@29.7.0 from lock file
npm error Missing: source-map-support@0.5.13 from lock file
npm error Missing: detect-newline@3.1.0 from lock file
npm error Missing: @jest/globals@29.7.0 from lock file
npm error Missing: @jest/source-map@29.6.3 from lock file
npm error Missing: cjs-module-lexer@1.4.3 from lock file
npm error Missing: strip-bom@4.0.0 from lock file
npm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file
npm error Missing: camelcase@6.3.0 from lock file
npm error Missing: leven@3.1.0 from lock file
npm error Missing: supports-color@8.1.1 from lock file
npm error Missing: braces@3.0.3 from lock file
npm error Missing: fill-range@7.1.1 from lock file
npm error Missing: to-regex-range@5.0.1 from lock file
npm error Missing: mimic-fn@2.1.0 from lock file
npm error Missing: error-ex@1.3.2 from lock file
npm error Missing: json-parse-even-better-errors@2.3.1 from lock file
npm error Missing: lines-and-columns@1.2.4 from lock file
npm error Missing: is-arrayish@0.2.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: ansi-styles@5.2.0 from lock file
npm error Missing: react-is@18.3.1 from lock file
npm error Missing: kleur@3.0.3 from lock file
npm error Missing: sisteransi@1.0.5 from lock file
npm error Missing: is-core-module@2.16.1 from lock file
npm error Missing: path-parse@1.0.7 from lock file
npm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: buffer-from@1.1.2 from lock file
npm error Missing: escape-string-regexp@2.0.0 from lock file
npm error Missing: char-regex@1.0.2 from lock file
npm error Missing: is-number@7.0.0 from lock file
npm error Missing: makeerror@1.0.12 from lock file
npm error Missing: tmpl@1.0.5 from lock file
npm error Missing: yallist@3.1.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: argparse@1.0.10 from lock file
npm error Missing: esprima@4.0.1 from lock file
npm error Missing: sprintf-js@1.0.3 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error Missing: p-try@2.2.0 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_06_14_654Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855.
[debug] [2025-05-11T14:07:59.434Z] Total Function Deployment time: 127786
[debug] [2025-05-11T14:07:59.434Z] 1 Functions Deployed
[debug] [2025-05-11T14:07:59.434Z] 1 Functions Errored
[debug] [2025-05-11T14:07:59.434Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:07:59.434Z] Average Function Deployment time: 127782
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:07:59.629Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:59.629Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:07:59.629Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:08:01.007Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:08:01.008Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:08:01.009Z] Functions deploy failed.
[debug] [2025-05-11T14:08:01.013Z] {
  "endpoint": {
    "id": "monthlyLeaderboardRefresh",
    "project": "uniexp-bfc54",
    "region": "us-central1",
    "entryPoint": "monthlyLeaderboardRefresh",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "scheduleTrigger": {
      "schedule": "0 0 1 * *",
      "timeZone": "Asia/Kuala_Lumpur",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "uniexp-bfc54",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "acd351de6296e432919c59032a819f01da9144ce"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_06_14_654Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_06_14_654Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/4c4465e9-3671-4c13-8b1a-eb70e4a2b8dd?project=376632403855."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-11T14:08:01.077Z] Error: Failed to create function monthlyLeaderboardRefresh in region us-central1
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:278:30)
    at async Fabricator.createEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:137:13)
    at async handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:09:13.944Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:09:13.959Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:09:13.959Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:09:13.959Z] Platform:      win32
[debug] [2025-05-11T14:09:13.959Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:09:13.960Z] Time:          Sun May 11 2025 22:09:13 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:09:13.960Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:09:14.317Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:09:14.318Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:09:14.318Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:09:14.320Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:14.320Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:14.322Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:09:14.322Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:14.322Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:09:15.645Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:09:15.645Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:09:15.646Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:15.646Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:15.646Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:09:15.646Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:09:16.237Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:09:16.237Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:09:17.863Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:17.864Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:17.864Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:09:17.864Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:19.412Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:09:19.413Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:09:19.413Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.413Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.413Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:09:19.718Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:09:19.719Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:19.721Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.721Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.721Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.721Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:19.721Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.722Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:19.722Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.722Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:19.722Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:09:19.722Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:19.723Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:09:19.723Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:19.725Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:09:19.725Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:19.727Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:09:19.727Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:20.409Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:09:20.409Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:09:21.123Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:09:21.123Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:09:21.156Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:09:21.156Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:09:21.195Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:09:21.195Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:09:21.196Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:21.196Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:21.196Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:09:21.571Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:09:21.571Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:09:21.572Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:21.572Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:21.572Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:09:21.956Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:09:21.956Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:09:21.957Z] Validating nodejs source
[debug] [2025-05-11T14:09:23.768Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:09:23.769Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:09:23.771Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:09:23.785Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8068

[debug] [2025-05-11T14:09:24.583Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:28.637Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:28.637Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:28.638Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:09:28.638Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:30.080Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:09:30.081Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:09:30.081Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:09:30.082Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:09:30.082Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:09:30.082Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:30.082Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:30.083Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:09:30.083Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:30.083Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:09:31.198Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:09:31.198Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:09:31.199Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:31.199Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:31.199Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:09:32.508Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:09:32.508Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:09:32.564Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:32.565Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:32.565Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:09:33.364Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:09:33.364Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:09:33.365Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:33.365Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:33.365Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:09:34.929Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:09:34.929Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:34.932Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:34.932Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:34.932Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:09:34.932Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:35.261Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:09:35.261Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:35.262Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:35.263Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:35.263Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:35.263Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:35.263Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:35.264Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:09:35.264Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:35.264Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:35.264Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:09:35.264Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:35.265Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:09:35.265Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:35.266Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:09:35.266Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:35.268Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:09:35.268Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:36.298Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:09:36.298Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:09:36.672Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:09:36.672Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:09:36.677Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:09:36.677Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-11T14:09:36.690Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:09:36.690Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:09:36.691Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:36.691Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:09:36.691Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:36.691Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:36.691Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:09:36.692Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:09:37.138Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:09:37.138Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:09:37.178Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:09:37.178Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:09:37.180Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:37.180Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:37.180Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:09:37.180Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:09:38.097Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:09:38.097Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:09:38.097Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:38.097Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:38.097Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:09:39.431Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:09:39.431Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:09:39.432Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:39.433Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:39.433Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:09:41.347Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:09:41.348Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[debug] [2025-05-11T14:09:41.349Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:41.350Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:41.350Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-11T14:09:42.770Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-11T14:09:42.770Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/a5f4270e-620a-4602-a490-2f1e240ed7ab.zip?GoogleAccessId=service-376632403855@gcf-admin-robot.iam.gserviceaccount.com&Expires=1746974384&Signature=Fp7UlxRKzVjb2n%2BHDH76rb5fk%2BK9DRKpEajT22Mvq6iq15o0AmjxKW7HyJhWDdPD4Ar4aKjQfkgNyOsJMdWduMncLsEwmXzT6xEpaIrVRdgrEKJW%2FDOjx8W0LW83p4NG6LQdoi%2Fhttd9%2FuWsCzXebyURDboHYq%2BN3VXo5tnGIhBEyMAMWidwspQGHkDkJWdBJRWsSZ%2BbMkl4xuS5pEU2geWs7p4TjbflwHXKgZcsTrwrvEnHsEoKmDaUm2YTIGRO2MleAKUnrO%2F1ZaB1PikzV9iFYYcXRvtcOJcMqfmvhAe%2B5nNgVTsFVSDyJ09d1NviLoi1ONZX0YgiIWC0asvGuQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"a5f4270e-620a-4602-a490-2f1e240ed7ab.zip"}}
[debug] [2025-05-11T14:09:42.771Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/a5f4270e-620a-4602-a490-2f1e240ed7ab.zip GoogleAccessId=service-376632403855%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1746974384&Signature=Fp7UlxRKzVjb2n%2BHDH76rb5fk%2BK9DRKpEajT22Mvq6iq15o0AmjxKW7HyJhWDdPD4Ar4aKjQfkgNyOsJMdWduMncLsEwmXzT6xEpaIrVRdgrEKJW%2FDOjx8W0LW83p4NG6LQdoi%2Fhttd9%2FuWsCzXebyURDboHYq%2BN3VXo5tnGIhBEyMAMWidwspQGHkDkJWdBJRWsSZ%2BbMkl4xuS5pEU2geWs7p4TjbflwHXKgZcsTrwrvEnHsEoKmDaUm2YTIGRO2MleAKUnrO%2F1ZaB1PikzV9iFYYcXRvtcOJcMqfmvhAe%2B5nNgVTsFVSDyJ09d1NviLoi1ONZX0YgiIWC0asvGuQ%3D%3D
[debug] [2025-05-11T14:09:42.771Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/a5f4270e-620a-4602-a490-2f1e240ed7ab.zip [stream]
[debug] [2025-05-11T14:09:44.588Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/a5f4270e-620a-4602-a490-2f1e240ed7ab.zip 200
[debug] [2025-05-11T14:09:44.588Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/a5f4270e-620a-4602-a490-2f1e240ed7ab.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:09:44.593Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:44.593Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:44.593Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions functionId=monthlyLeaderboardRefresh
[debug] [2025-05-11T14:09:44.593Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"a5f4270e-620a-4602-a490-2f1e240ed7ab.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"}}
[debug] [2025-05-11T14:09:46.408Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions 200
[debug] [2025-05-11T14:09:46.408Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-11T14:09:46.409Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:46.409Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:46.409Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:09:47.691Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:09:47.691Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:09:48.196Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:09:48.196Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:48.196Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:48.196Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:09:49.459Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:09:49.459Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:09:50.461Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:09:50.461Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:50.461Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:50.461Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:09:51.717Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:09:51.717Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:09:53.726Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:09:53.727Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:53.727Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:53.727Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:09:55.018Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:09:55.018Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:09:59.026Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:09:59.026Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:59.026Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:09:59.026Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:10:00.279Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:10:00.279Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:10:08.292Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:10:08.293Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:08.293Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:08.293Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:10:08.635Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:10:08.635Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:10:18.639Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:10:18.640Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:18.640Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:18.640Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:10:20.156Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:10:20.156Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:10:30.157Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:10:30.157Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:30.157Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:30.157Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:10:31.557Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:10:31.557Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47"},"done":false}
[debug] [2025-05-11T14:10:41.570Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:10:41.571Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:41.571Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:41.571Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 [none]
[debug] [2025-05-11T14:10:42.926Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 200
[debug] [2025-05-11T14:10:42.926Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972587670-634dcc0853d6a-3a53d8ec-92551de5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:09:48.170272970Z","endTime":"2025-05-11T14:10:37.299333776Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_10_08_714Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855."}}
[debug] [2025-05-11T14:10:42.926Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: jest@29.7.0 from lock file
npm error Missing: @jest/core@29.7.0 from lock file
npm error Missing: @jest/types@29.6.3 from lock file
npm error Missing: import-local@3.2.0 from lock file
npm error Missing: jest-cli@29.7.0 from lock file
npm error Missing: @jest/console@29.7.0 from lock file
npm error Missing: @jest/reporters@29.7.0 from lock file
npm error Missing: @jest/test-result@29.7.0 from lock file
npm error Missing: @jest/transform@29.7.0 from lock file
npm error Missing: ansi-escapes@4.3.2 from lock file
npm error Missing: ci-info@3.9.0 from lock file
npm error Missing: exit@0.1.2 from lock file
npm error Missing: graceful-fs@4.2.11 from lock file
npm error Missing: jest-changed-files@29.7.0 from lock file
npm error Missing: jest-config@29.7.0 from lock file
npm error Missing: jest-haste-map@29.7.0 from lock file
npm error Missing: jest-message-util@29.7.0 from lock file
npm error Missing: jest-regex-util@29.6.3 from lock file
npm error Missing: jest-resolve@29.7.0 from lock file
npm error Missing: jest-resolve-dependencies@29.7.0 from lock file
npm error Missing: jest-runner@29.7.0 from lock file
npm error Missing: jest-runtime@29.7.0 from lock file
npm error Missing: jest-snapshot@29.7.0 from lock file
npm error Missing: jest-util@29.7.0 from lock file
npm error Missing: jest-validate@29.7.0 from lock file
npm error Missing: jest-watcher@29.7.0 from lock file
npm error Missing: micromatch@4.0.8 from lock file
npm error Missing: pretty-format@29.7.0 from lock file
npm error Missing: slash@3.0.0 from lock file
npm error Missing: @bcoe/v8-coverage@0.2.3 from lock file
npm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file
npm error Missing: collect-v8-coverage@1.0.2 from lock file
npm error Missing: istanbul-lib-coverage@3.2.2 from lock file
npm error Missing: istanbul-lib-instrument@6.0.3 from lock file
npm error Missing: istanbul-lib-report@3.0.1 from lock file
npm error Missing: istanbul-lib-source-maps@4.0.1 from lock file
npm error Missing: istanbul-reports@3.1.7 from lock file
npm error Missing: jest-worker@29.7.0 from lock file
npm error Missing: string-length@4.0.2 from lock file
npm error Missing: v8-to-istanbul@9.3.0 from lock file
npm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file
npm error Missing: @babel/core@7.27.1 from lock file
npm error Missing: babel-plugin-istanbul@6.1.1 from lock file
npm error Missing: convert-source-map@2.0.0 from lock file
npm error Missing: pirates@4.0.7 from lock file
npm error Missing: write-file-atomic@4.0.2 from lock file
npm error Missing: @ampproject/remapping@2.3.0 from lock file
npm error Missing: @babel/code-frame@7.27.1 from lock file
npm error Missing: @babel/generator@7.27.1 from lock file
npm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file
npm error Missing: @babel/helper-module-transforms@7.27.1 from lock file
npm error Missing: @babel/helpers@7.27.1 from lock file
npm error Missing: @babel/parser@7.27.2 from lock file
npm error Missing: @babel/template@7.27.2 from lock file
npm error Missing: @babel/traverse@7.27.1 from lock file
npm error Missing: @babel/types@7.27.1 from lock file
npm error Missing: gensync@1.0.0-beta.2 from lock file
npm error Missing: json5@2.2.3 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file
npm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file
npm error Missing: js-tokens@4.0.0 from lock file
npm error Missing: picocolors@1.1.1 from lock file
npm error Missing: jsesc@3.1.0 from lock file
npm error Missing: @babel/compat-data@7.27.2 from lock file
npm error Missing: @babel/helper-validator-option@7.27.1 from lock file
npm error Missing: browserslist@4.24.5 from lock file
npm error Missing: lru-cache@5.1.1 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @babel/helper-module-imports@7.27.1 from lock file
npm error Missing: globals@11.12.0 from lock file
npm error Missing: @babel/helper-string-parser@7.27.1 from lock file
npm error Missing: @jest/schemas@29.6.3 from lock file
npm error Missing: @types/istanbul-reports@3.0.4 from lock file
npm error Missing: @types/yargs@17.0.33 from lock file
npm error Missing: @sinclair/typebox@0.27.8 from lock file
npm error Missing: @jridgewell/set-array@1.2.1 from lock file
npm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file
npm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file
npm error Missing: @types/istanbul-lib-report@3.0.3 from lock file
npm error Missing: @types/yargs-parser@21.0.3 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file
npm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file
npm error Missing: @istanbuljs/schema@0.1.3 from lock file
npm error Missing: istanbul-lib-instrument@5.2.1 from lock file
npm error Missing: test-exclude@6.0.0 from lock file
npm error Missing: camelcase@5.3.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: get-package-type@0.1.0 from lock file
npm error Missing: js-yaml@3.14.1 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: caniuse-lite@1.0.30001717 from lock file
npm error Missing: electron-to-chromium@1.5.151 from lock file
npm error Missing: node-releases@2.0.19 from lock file
npm error Missing: update-browserslist-db@1.1.3 from lock file
npm error Missing: pkg-dir@4.2.0 from lock file
npm error Missing: resolve-cwd@3.0.0 from lock file
npm error Missing: make-dir@4.0.0 from lock file
npm error Missing: source-map@0.6.1 from lock file
npm error Missing: html-escaper@2.0.2 from lock file
npm error Missing: execa@5.1.1 from lock file
npm error Missing: get-stream@6.0.1 from lock file
npm error Missing: human-signals@2.1.0 from lock file
npm error Missing: merge-stream@2.0.0 from lock file
npm error Missing: npm-run-path@4.0.1 from lock file
npm error Missing: onetime@5.1.2 from lock file
npm error Missing: signal-exit@3.0.7 from lock file
npm error Missing: strip-final-newline@2.0.0 from lock file
npm error Missing: create-jest@29.7.0 from lock file
npm error Missing: prompts@2.4.2 from lock file
npm error Missing: @jest/test-sequencer@29.7.0 from lock file
npm error Missing: babel-jest@29.7.0 from lock file
npm error Missing: deepmerge@4.3.1 from lock file
npm error Missing: jest-circus@29.7.0 from lock file
npm error Missing: jest-environment-node@29.7.0 from lock file
npm error Missing: jest-get-type@29.6.3 from lock file
npm error Missing: parse-json@5.2.0 from lock file
npm error Missing: @types/babel__core@7.20.5 from lock file
npm error Missing: babel-preset-jest@29.6.3 from lock file
npm error Missing: @types/babel__generator@7.27.0 from lock file
npm error Missing: @types/babel__template@7.4.4 from lock file
npm error Missing: @types/babel__traverse@7.20.7 from lock file
npm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file
npm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file
npm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file
npm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file
npm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file
npm error Missing: @jest/environment@29.7.0 from lock file
npm error Missing: @jest/expect@29.7.0 from lock file
npm error Missing: co@4.6.0 from lock file
npm error Missing: dedent@1.6.0 from lock file
npm error Missing: is-generator-fn@2.1.0 from lock file
npm error Missing: jest-each@29.7.0 from lock file
npm error Missing: jest-matcher-utils@29.7.0 from lock file
npm error Missing: pure-rand@6.1.0 from lock file
npm error Missing: stack-utils@2.0.6 from lock file
npm error Missing: @jest/fake-timers@29.7.0 from lock file
npm error Missing: jest-mock@29.7.0 from lock file
npm error Missing: expect@29.7.0 from lock file
npm error Missing: @sinonjs/fake-timers@10.3.0 from lock file
npm error Missing: @sinonjs/commons@3.0.1 from lock file
npm error Missing: type-detect@4.0.8 from lock file
npm error Missing: @jest/expect-utils@29.7.0 from lock file
npm error Missing: @types/graceful-fs@4.1.9 from lock file
npm error Missing: anymatch@3.1.3 from lock file
npm error Missing: fb-watchman@2.0.2 from lock file
npm error Missing: fsevents@2.3.3 from lock file
npm error Missing: walker@1.0.8 from lock file
npm error Missing: normalize-path@3.0.0 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: bser@2.1.1 from lock file
npm error Missing: node-int64@0.4.0 from lock file
npm error Missing: jest-diff@29.7.0 from lock file
npm error Missing: diff-sequences@29.6.3 from lock file
npm error Missing: @types/stack-utils@2.0.3 from lock file
npm error Missing: jest-pnp-resolver@1.2.3 from lock file
npm error Missing: resolve@1.22.10 from lock file
npm error Missing: resolve.exports@2.0.3 from lock file
npm error Missing: emittery@0.13.1 from lock file
npm error Missing: jest-docblock@29.7.0 from lock file
npm error Missing: jest-leak-detector@29.7.0 from lock file
npm error Missing: source-map-support@0.5.13 from lock file
npm error Missing: detect-newline@3.1.0 from lock file
npm error Missing: @jest/globals@29.7.0 from lock file
npm error Missing: @jest/source-map@29.6.3 from lock file
npm error Missing: cjs-module-lexer@1.4.3 from lock file
npm error Missing: strip-bom@4.0.0 from lock file
npm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file
npm error Missing: camelcase@6.3.0 from lock file
npm error Missing: leven@3.1.0 from lock file
npm error Missing: supports-color@8.1.1 from lock file
npm error Missing: braces@3.0.3 from lock file
npm error Missing: fill-range@7.1.1 from lock file
npm error Missing: to-regex-range@5.0.1 from lock file
npm error Missing: mimic-fn@2.1.0 from lock file
npm error Missing: error-ex@1.3.2 from lock file
npm error Missing: json-parse-even-better-errors@2.3.1 from lock file
npm error Missing: lines-and-columns@1.2.4 from lock file
npm error Missing: is-arrayish@0.2.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: ansi-styles@5.2.0 from lock file
npm error Missing: react-is@18.3.1 from lock file
npm error Missing: kleur@3.0.3 from lock file
npm error Missing: sisteransi@1.0.5 from lock file
npm error Missing: is-core-module@2.16.1 from lock file
npm error Missing: path-parse@1.0.7 from lock file
npm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: buffer-from@1.1.2 from lock file
npm error Missing: escape-string-regexp@2.0.0 from lock file
npm error Missing: char-regex@1.0.2 from lock file
npm error Missing: is-number@7.0.0 from lock file
npm error Missing: makeerror@1.0.12 from lock file
npm error Missing: tmpl@1.0.5 from lock file
npm error Missing: yallist@3.1.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: argparse@1.0.10 from lock file
npm error Missing: esprima@4.0.1 from lock file
npm error Missing: sprintf-js@1.0.3 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error Missing: p-try@2.2.0 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_10_08_714Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855.
[debug] [2025-05-11T14:10:42.937Z] Total Function Deployment time: 58339
[debug] [2025-05-11T14:10:42.937Z] 1 Functions Deployed
[debug] [2025-05-11T14:10:42.937Z] 1 Functions Errored
[debug] [2025-05-11T14:10:42.937Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:10:42.937Z] Average Function Deployment time: 58338
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:10:43.090Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:43.090Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:10:43.090Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:10:45.062Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:10:45.062Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:10:45.063Z] Functions deploy failed.
[debug] [2025-05-11T14:10:45.064Z] {
  "endpoint": {
    "id": "monthlyLeaderboardRefresh",
    "project": "uniexp-bfc54",
    "region": "us-central1",
    "entryPoint": "monthlyLeaderboardRefresh",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "scheduleTrigger": {
      "schedule": "0 0 1 * *",
      "timeZone": "Asia/Kuala_Lumpur",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "uniexp-bfc54",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "acd351de6296e432919c59032a819f01da9144ce"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_10_08_714Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_10_08_714Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/5e32efe7-3680-4c2f-8978-c54f36969f47?project=376632403855."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-11T14:10:45.118Z] Error: Failed to create function monthlyLeaderboardRefresh in region us-central1
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:278:30)
    at async Fabricator.createEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:137:13)
    at async handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:14:46.072Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:14:46.076Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:14:46.076Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:14:46.076Z] Platform:      win32
[debug] [2025-05-11T14:14:46.077Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:14:46.077Z] Time:          Sun May 11 2025 22:14:46 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:14:46.077Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:14:46.436Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:14:46.436Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:14:46.436Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:14:46.438Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:46.438Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:46.440Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:14:46.440Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:14:46.441Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:14:47.708Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:14:47.709Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:14:47.709Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:47.709Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:47.709Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:14:47.709Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:14:49.123Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:14:49.123Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:14:50.683Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:50.683Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:50.684Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:14:50.684Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:14:52.216Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:14:52.216Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:14:52.216Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.216Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.217Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:14:52.503Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:14:52.504Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:14:52.505Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.505Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.506Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.506Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:14:52.506Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.506Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:14:52.507Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.507Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:52.507Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:14:52.507Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:14:52.508Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:14:52.508Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:14:52.510Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:14:52.511Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:14:52.513Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:14:52.513Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:14:53.065Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:14:53.065Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:14:54.097Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:14:54.098Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:14:54.099Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:14:54.099Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:14:54.119Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:14:54.119Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:14:54.120Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:54.120Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:54.120Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:14:54.544Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:14:54.544Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:14:54.544Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:54.545Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:14:54.545Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:14:55.102Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:14:55.103Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:14:55.105Z] Validating nodejs source
[debug] [2025-05-11T14:14:57.181Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:14:57.182Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:14:57.184Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:14:57.206Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8674

[debug] [2025-05-11T14:14:58.308Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:02.365Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:02.365Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:02.365Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:15:02.365Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:03.788Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:15:03.788Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:15:03.789Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:15:03.789Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:15:03.789Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:15:03.790Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:03.790Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:03.790Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:15:03.790Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:03.790Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:15:04.940Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:15:04.940Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:15:04.941Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:04.941Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:04.941Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:15:06.304Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:15:06.304Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:15:06.366Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:06.366Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:06.366Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:15:07.146Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:15:07.146Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:15:07.147Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:07.147Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:07.147Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:15:08.728Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:15:08.728Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {"functions":[{"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"build":"projects/376632403855/locations/us-central1/builds/5e32efe7-3680-4c2f-8978-c54f36969f47","runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972587941041"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-05-11T14:10:37.307645173Z","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce","deployment-tool":"cli-firebase"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","createTime":"2025-05-11T14:09:48.165914851Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:08.731Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:08.731Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:08.731Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:15:08.731Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:09.359Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:15:09.359Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:09.360Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:09.361Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:09.361Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:09.361Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:09.362Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:09.362Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:09.362Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:09.362Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:09.363Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:15:09.363Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:09.363Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:15:09.364Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:09.366Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:15:09.366Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:09.368Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:15:09.368Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:10.120Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:15:10.120Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:15:10.764Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:15:10.764Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:15:10.780Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:15:10.780Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-11T14:15:10.809Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:15:10.809Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:15:10.812Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:10.813Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:15:10.813Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:10.813Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:10.813Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:15:10.815Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:15:11.169Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:15:11.169Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:15:11.204Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:15:11.204Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:15:11.206Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:11.207Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:11.207Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:15:11.207Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:12.184Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:15:12.184Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:15:12.184Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:12.184Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:12.185Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:15:13.358Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:15:13.358Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:15:13.361Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:13.362Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:13.362Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:15:13.975Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:15:13.976Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[info] i  functions: updating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:15:13.981Z] Precondition failed. Cannot update a GCFv2 function without storage
[debug] [2025-05-11T14:15:13.990Z] Total Function Deployment time: 2
[debug] [2025-05-11T14:15:13.990Z] 1 Functions Deployed
[debug] [2025-05-11T14:15:13.990Z] 1 Functions Errored
[debug] [2025-05-11T14:15:13.990Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:15:13.990Z] Average Function Deployment time: 0
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:15:14.156Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:14.156Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:14.156Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:15:16.005Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:15:16.006Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:15:16.006Z] Functions deploy failed.
[debug] [2025-05-11T14:15:16.007Z] {}
[debug] [2025-05-11T14:15:16.049Z] Error: Precondition failed
    at Fabricator.updateV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:382:19)
    at Fabricator.updateEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:24)
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:71
    at handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:23)
    at Fabricator.applyChangeset (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:26)
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:69:40
    at Array.map (<anonymous>)
    at Fabricator.applyPlan (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:68:54)
    at release (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\index.js:76:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:15:28.142Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:15:28.146Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:15:28.147Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:15:28.147Z] Platform:      win32
[debug] [2025-05-11T14:15:28.147Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:15:28.148Z] Time:          Sun May 11 2025 22:15:28 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:15:28.148Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:15:28.552Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:15:28.553Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:15:28.555Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:15:28.557Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:28.558Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:28.559Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:15:28.559Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:28.559Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:15:29.778Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:15:29.778Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:15:29.779Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:29.779Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:29.779Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:15:29.779Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:15:31.169Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:15:31.171Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:15:32.770Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:32.770Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:32.771Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:15:32.771Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:34.600Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:15:34.601Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:15:34.601Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.601Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.601Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:15:34.880Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:15:34.880Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:34.882Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.882Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.882Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.882Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:34.883Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.883Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:34.884Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.884Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:34.884Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:15:34.884Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:34.885Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:15:34.886Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:34.889Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:15:34.889Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:34.891Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:15:34.891Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:35.216Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:15:35.216Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:15:36.306Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:15:36.306Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:15:36.317Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:15:36.317Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:15:36.323Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:15:36.323Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:15:36.323Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:36.323Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:36.324Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:15:36.796Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:15:36.796Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:15:36.796Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:36.796Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:36.796Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:15:37.126Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:15:37.127Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:15:37.128Z] Validating nodejs source
[debug] [2025-05-11T14:15:38.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:15:38.826Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:15:38.827Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:15:38.844Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8104

[debug] [2025-05-11T14:15:39.553Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:43.600Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:43.600Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:43.600Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:15:43.600Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:45.231Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:15:45.231Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:15:45.231Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:15:45.231Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:15:45.232Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:15:45.232Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:45.232Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:45.232Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:15:45.232Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:45.232Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:15:46.367Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:15:46.367Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:15:46.367Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:46.368Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:46.368Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:15:47.652Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:15:47.652Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:15:47.709Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:47.709Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:47.710Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:15:48.458Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:15:48.459Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:15:48.459Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:48.459Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:48.459Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:15:50.051Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:15:50.052Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:50.054Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.054Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.054Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:15:50.054Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:50.380Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:15:50.380Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:50.381Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.381Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:50.382Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.382Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:50.383Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.383Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:15:50.383Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.383Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:50.384Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:15:50.384Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:50.384Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:15:50.384Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:50.386Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:15:50.386Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:50.389Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:15:50.389Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:51.450Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:15:51.450Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:15:51.797Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:15:51.797Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:15:51.838Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:15:51.838Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[debug] [2025-05-11T14:15:51.841Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:15:51.841Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:15:51.842Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:51.842Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:15:51.842Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:51.842Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:51.842Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:15:51.843Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:15:52.247Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:15:52.247Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:15:52.336Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:15:52.337Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:15:52.338Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:52.338Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:52.339Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:15:52.339Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:15:53.218Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:15:53.218Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:15:53.218Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:53.218Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:53.218Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:15:53.566Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:15:53.566Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:15:53.568Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:53.568Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:53.568Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:15:55.024Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:15:55.024Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[debug] [2025-05-11T14:15:55.027Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:55.027Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:55.027Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-11T14:15:56.559Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-11T14:15:56.559Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/2769e7f9-fdb8-4545-8378-266ed5ab6068.zip?GoogleAccessId=service-376632403855@gcf-admin-robot.iam.gserviceaccount.com&Expires=1746974758&Signature=Yt4dI6qWPVMbhDLInUFMKzBtRKDOSBm87I8QnqaFfE6xe3whkTL4RE1o5gjzhwesZtOFiqJZcPHFUNRn2X3rt0iUI8fPqdg3WEa2tPchA%2BJ0GbjAiTcTlxxfQkjQIjQV1F6sgC%2Be7Jls0dvif1nlGfs3okYN%2F0p%2FfENDcOt%2Fh00iCtCdGlEE2ed2UaNLb0qB7AIc%2BKn2OPAmWzPTQvFkJ3RgJfvlWMGw9iC4u%2Bs1%2FNdd9s%2Fsezp9V0ZGnn5zelaov9%2FUWBMWNVAQOXgz%2FewV5%2Fob0ESp96U4poHGY9%2FeYXpqzNTs2njx5TWsRbEkuMG%2B62W7RTyTvXaJGS%2B%2B4a8IyA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"2769e7f9-fdb8-4545-8378-266ed5ab6068.zip"}}
[debug] [2025-05-11T14:15:56.560Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/2769e7f9-fdb8-4545-8378-266ed5ab6068.zip GoogleAccessId=service-376632403855%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1746974758&Signature=Yt4dI6qWPVMbhDLInUFMKzBtRKDOSBm87I8QnqaFfE6xe3whkTL4RE1o5gjzhwesZtOFiqJZcPHFUNRn2X3rt0iUI8fPqdg3WEa2tPchA%2BJ0GbjAiTcTlxxfQkjQIjQV1F6sgC%2Be7Jls0dvif1nlGfs3okYN%2F0p%2FfENDcOt%2Fh00iCtCdGlEE2ed2UaNLb0qB7AIc%2BKn2OPAmWzPTQvFkJ3RgJfvlWMGw9iC4u%2Bs1%2FNdd9s%2Fsezp9V0ZGnn5zelaov9%2FUWBMWNVAQOXgz%2FewV5%2Fob0ESp96U4poHGY9%2FeYXpqzNTs2njx5TWsRbEkuMG%2B62W7RTyTvXaJGS%2B%2B4a8IyA%3D%3D
[debug] [2025-05-11T14:15:56.560Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/2769e7f9-fdb8-4545-8378-266ed5ab6068.zip [stream]
[debug] [2025-05-11T14:15:58.383Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/2769e7f9-fdb8-4545-8378-266ed5ab6068.zip 200
[debug] [2025-05-11T14:15:58.383Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/2769e7f9-fdb8-4545-8378-266ed5ab6068.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:15:58.388Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:58.388Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:15:58.388Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions functionId=monthlyLeaderboardRefresh
[debug] [2025-05-11T14:15:58.388Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"2769e7f9-fdb8-4545-8378-266ed5ab6068.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"}}
[debug] [2025-05-11T14:16:00.226Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions 200
[debug] [2025-05-11T14:16:00.226Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-11T14:16:00.227Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:00.227Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:00.227Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:02.028Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:02.029Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:02.531Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:02.531Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:02.531Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:02.531Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:04.211Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:04.211Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:05.213Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:05.213Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:05.213Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:05.213Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:06.549Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:06.550Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:08.563Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:08.563Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:08.564Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:08.564Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:09.857Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:09.857Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:13.861Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:13.862Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:13.862Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:13.862Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:15.113Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:15.113Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:23.126Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:23.127Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:23.127Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:23.127Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:25.355Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:25.355Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:35.359Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:35.360Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:35.360Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:35.360Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:36.731Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:36.731Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:46.740Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:46.740Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:46.740Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:46.740Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:48.080Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:48.081Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566"},"done":false}
[debug] [2025-05-11T14:16:58.089Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:16:58.090Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:58.090Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:58.090Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb [none]
[debug] [2025-05-11T14:16:59.446Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb 200
[debug] [2025-05-11T14:16:59.446Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746972961490-634dcd6cd46c5-0250b5b5-87043ccb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:16:01.992087562Z","endTime":"2025-05-11T14:16:53.606845703Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_16_23_395Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855."}}
[debug] [2025-05-11T14:16:59.447Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: jest@29.7.0 from lock file
npm error Missing: @jest/core@29.7.0 from lock file
npm error Missing: @jest/types@29.6.3 from lock file
npm error Missing: import-local@3.2.0 from lock file
npm error Missing: jest-cli@29.7.0 from lock file
npm error Missing: @jest/console@29.7.0 from lock file
npm error Missing: @jest/reporters@29.7.0 from lock file
npm error Missing: @jest/test-result@29.7.0 from lock file
npm error Missing: @jest/transform@29.7.0 from lock file
npm error Missing: ansi-escapes@4.3.2 from lock file
npm error Missing: ci-info@3.9.0 from lock file
npm error Missing: exit@0.1.2 from lock file
npm error Missing: graceful-fs@4.2.11 from lock file
npm error Missing: jest-changed-files@29.7.0 from lock file
npm error Missing: jest-config@29.7.0 from lock file
npm error Missing: jest-haste-map@29.7.0 from lock file
npm error Missing: jest-message-util@29.7.0 from lock file
npm error Missing: jest-regex-util@29.6.3 from lock file
npm error Missing: jest-resolve@29.7.0 from lock file
npm error Missing: jest-resolve-dependencies@29.7.0 from lock file
npm error Missing: jest-runner@29.7.0 from lock file
npm error Missing: jest-runtime@29.7.0 from lock file
npm error Missing: jest-snapshot@29.7.0 from lock file
npm error Missing: jest-util@29.7.0 from lock file
npm error Missing: jest-validate@29.7.0 from lock file
npm error Missing: jest-watcher@29.7.0 from lock file
npm error Missing: micromatch@4.0.8 from lock file
npm error Missing: pretty-format@29.7.0 from lock file
npm error Missing: slash@3.0.0 from lock file
npm error Missing: @bcoe/v8-coverage@0.2.3 from lock file
npm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file
npm error Missing: collect-v8-coverage@1.0.2 from lock file
npm error Missing: istanbul-lib-coverage@3.2.2 from lock file
npm error Missing: istanbul-lib-instrument@6.0.3 from lock file
npm error Missing: istanbul-lib-report@3.0.1 from lock file
npm error Missing: istanbul-lib-source-maps@4.0.1 from lock file
npm error Missing: istanbul-reports@3.1.7 from lock file
npm error Missing: jest-worker@29.7.0 from lock file
npm error Missing: string-length@4.0.2 from lock file
npm error Missing: v8-to-istanbul@9.3.0 from lock file
npm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file
npm error Missing: @babel/core@7.27.1 from lock file
npm error Missing: babel-plugin-istanbul@6.1.1 from lock file
npm error Missing: convert-source-map@2.0.0 from lock file
npm error Missing: pirates@4.0.7 from lock file
npm error Missing: write-file-atomic@4.0.2 from lock file
npm error Missing: @ampproject/remapping@2.3.0 from lock file
npm error Missing: @babel/code-frame@7.27.1 from lock file
npm error Missing: @babel/generator@7.27.1 from lock file
npm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file
npm error Missing: @babel/helper-module-transforms@7.27.1 from lock file
npm error Missing: @babel/helpers@7.27.1 from lock file
npm error Missing: @babel/parser@7.27.2 from lock file
npm error Missing: @babel/template@7.27.2 from lock file
npm error Missing: @babel/traverse@7.27.1 from lock file
npm error Missing: @babel/types@7.27.1 from lock file
npm error Missing: gensync@1.0.0-beta.2 from lock file
npm error Missing: json5@2.2.3 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file
npm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file
npm error Missing: js-tokens@4.0.0 from lock file
npm error Missing: picocolors@1.1.1 from lock file
npm error Missing: jsesc@3.1.0 from lock file
npm error Missing: @babel/compat-data@7.27.2 from lock file
npm error Missing: @babel/helper-validator-option@7.27.1 from lock file
npm error Missing: browserslist@4.24.5 from lock file
npm error Missing: lru-cache@5.1.1 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @babel/helper-module-imports@7.27.1 from lock file
npm error Missing: globals@11.12.0 from lock file
npm error Missing: @babel/helper-string-parser@7.27.1 from lock file
npm error Missing: @jest/schemas@29.6.3 from lock file
npm error Missing: @types/istanbul-reports@3.0.4 from lock file
npm error Missing: @types/yargs@17.0.33 from lock file
npm error Missing: @sinclair/typebox@0.27.8 from lock file
npm error Missing: @jridgewell/set-array@1.2.1 from lock file
npm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file
npm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file
npm error Missing: @types/istanbul-lib-report@3.0.3 from lock file
npm error Missing: @types/yargs-parser@21.0.3 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file
npm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file
npm error Missing: @istanbuljs/schema@0.1.3 from lock file
npm error Missing: istanbul-lib-instrument@5.2.1 from lock file
npm error Missing: test-exclude@6.0.0 from lock file
npm error Missing: camelcase@5.3.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: get-package-type@0.1.0 from lock file
npm error Missing: js-yaml@3.14.1 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: caniuse-lite@1.0.30001717 from lock file
npm error Missing: electron-to-chromium@1.5.151 from lock file
npm error Missing: node-releases@2.0.19 from lock file
npm error Missing: update-browserslist-db@1.1.3 from lock file
npm error Missing: pkg-dir@4.2.0 from lock file
npm error Missing: resolve-cwd@3.0.0 from lock file
npm error Missing: make-dir@4.0.0 from lock file
npm error Missing: source-map@0.6.1 from lock file
npm error Missing: html-escaper@2.0.2 from lock file
npm error Missing: execa@5.1.1 from lock file
npm error Missing: get-stream@6.0.1 from lock file
npm error Missing: human-signals@2.1.0 from lock file
npm error Missing: merge-stream@2.0.0 from lock file
npm error Missing: npm-run-path@4.0.1 from lock file
npm error Missing: onetime@5.1.2 from lock file
npm error Missing: signal-exit@3.0.7 from lock file
npm error Missing: strip-final-newline@2.0.0 from lock file
npm error Missing: create-jest@29.7.0 from lock file
npm error Missing: prompts@2.4.2 from lock file
npm error Missing: @jest/test-sequencer@29.7.0 from lock file
npm error Missing: babel-jest@29.7.0 from lock file
npm error Missing: deepmerge@4.3.1 from lock file
npm error Missing: jest-circus@29.7.0 from lock file
npm error Missing: jest-environment-node@29.7.0 from lock file
npm error Missing: jest-get-type@29.6.3 from lock file
npm error Missing: parse-json@5.2.0 from lock file
npm error Missing: @types/babel__core@7.20.5 from lock file
npm error Missing: babel-preset-jest@29.6.3 from lock file
npm error Missing: @types/babel__generator@7.27.0 from lock file
npm error Missing: @types/babel__template@7.4.4 from lock file
npm error Missing: @types/babel__traverse@7.20.7 from lock file
npm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file
npm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file
npm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file
npm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file
npm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file
npm error Missing: @jest/environment@29.7.0 from lock file
npm error Missing: @jest/expect@29.7.0 from lock file
npm error Missing: co@4.6.0 from lock file
npm error Missing: dedent@1.6.0 from lock file
npm error Missing: is-generator-fn@2.1.0 from lock file
npm error Missing: jest-each@29.7.0 from lock file
npm error Missing: jest-matcher-utils@29.7.0 from lock file
npm error Missing: pure-rand@6.1.0 from lock file
npm error Missing: stack-utils@2.0.6 from lock file
npm error Missing: @jest/fake-timers@29.7.0 from lock file
npm error Missing: jest-mock@29.7.0 from lock file
npm error Missing: expect@29.7.0 from lock file
npm error Missing: @sinonjs/fake-timers@10.3.0 from lock file
npm error Missing: @sinonjs/commons@3.0.1 from lock file
npm error Missing: type-detect@4.0.8 from lock file
npm error Missing: @jest/expect-utils@29.7.0 from lock file
npm error Missing: @types/graceful-fs@4.1.9 from lock file
npm error Missing: anymatch@3.1.3 from lock file
npm error Missing: fb-watchman@2.0.2 from lock file
npm error Missing: fsevents@2.3.3 from lock file
npm error Missing: walker@1.0.8 from lock file
npm error Missing: normalize-path@3.0.0 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: bser@2.1.1 from lock file
npm error Missing: node-int64@0.4.0 from lock file
npm error Missing: jest-diff@29.7.0 from lock file
npm error Missing: diff-sequences@29.6.3 from lock file
npm error Missing: @types/stack-utils@2.0.3 from lock file
npm error Missing: jest-pnp-resolver@1.2.3 from lock file
npm error Missing: resolve@1.22.10 from lock file
npm error Missing: resolve.exports@2.0.3 from lock file
npm error Missing: emittery@0.13.1 from lock file
npm error Missing: jest-docblock@29.7.0 from lock file
npm error Missing: jest-leak-detector@29.7.0 from lock file
npm error Missing: source-map-support@0.5.13 from lock file
npm error Missing: detect-newline@3.1.0 from lock file
npm error Missing: @jest/globals@29.7.0 from lock file
npm error Missing: @jest/source-map@29.6.3 from lock file
npm error Missing: cjs-module-lexer@1.4.3 from lock file
npm error Missing: strip-bom@4.0.0 from lock file
npm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file
npm error Missing: camelcase@6.3.0 from lock file
npm error Missing: leven@3.1.0 from lock file
npm error Missing: supports-color@8.1.1 from lock file
npm error Missing: braces@3.0.3 from lock file
npm error Missing: fill-range@7.1.1 from lock file
npm error Missing: to-regex-range@5.0.1 from lock file
npm error Missing: mimic-fn@2.1.0 from lock file
npm error Missing: error-ex@1.3.2 from lock file
npm error Missing: json-parse-even-better-errors@2.3.1 from lock file
npm error Missing: lines-and-columns@1.2.4 from lock file
npm error Missing: is-arrayish@0.2.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: ansi-styles@5.2.0 from lock file
npm error Missing: react-is@18.3.1 from lock file
npm error Missing: kleur@3.0.3 from lock file
npm error Missing: sisteransi@1.0.5 from lock file
npm error Missing: is-core-module@2.16.1 from lock file
npm error Missing: path-parse@1.0.7 from lock file
npm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: buffer-from@1.1.2 from lock file
npm error Missing: escape-string-regexp@2.0.0 from lock file
npm error Missing: char-regex@1.0.2 from lock file
npm error Missing: is-number@7.0.0 from lock file
npm error Missing: makeerror@1.0.12 from lock file
npm error Missing: tmpl@1.0.5 from lock file
npm error Missing: yallist@3.1.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: argparse@1.0.10 from lock file
npm error Missing: esprima@4.0.1 from lock file
npm error Missing: sprintf-js@1.0.3 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error Missing: p-try@2.2.0 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_16_23_395Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855.
[debug] [2025-05-11T14:16:59.458Z] Total Function Deployment time: 61064
[debug] [2025-05-11T14:16:59.458Z] 1 Functions Deployed
[debug] [2025-05-11T14:16:59.458Z] 1 Functions Errored
[debug] [2025-05-11T14:16:59.458Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:16:59.458Z] Average Function Deployment time: 61064
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:16:59.569Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:59.569Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:16:59.569Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:17:00.980Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:17:00.980Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:17:00.980Z] Functions deploy failed.
[debug] [2025-05-11T14:17:00.981Z] {
  "endpoint": {
    "id": "monthlyLeaderboardRefresh",
    "project": "uniexp-bfc54",
    "region": "us-central1",
    "entryPoint": "monthlyLeaderboardRefresh",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "scheduleTrigger": {
      "schedule": "0 0 1 * *",
      "timeZone": "Asia/Kuala_Lumpur",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "uniexp-bfc54",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "acd351de6296e432919c59032a819f01da9144ce"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_16_23_395Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_16_23_395Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e659a601-74e6-43aa-8bbb-ea7a66051566?project=376632403855."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-11T14:17:01.015Z] Error: Failed to create function monthlyLeaderboardRefresh in region us-central1
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:278:30)
    at async Fabricator.createEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:137:13)
    at async handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:21:21.368Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:21:21.384Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:21:21.384Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:21:21.385Z] Platform:      win32
[debug] [2025-05-11T14:21:21.385Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:21:21.386Z] Time:          Sun May 11 2025 22:21:21 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:21:21.386Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:21:21.704Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:21:21.705Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:21:21.706Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:21:21.708Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:21.708Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:21.710Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:21:21.711Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:21.711Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:21:23.001Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:21:23.001Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:21:23.001Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:23.002Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:23.002Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:21:23.002Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:21:24.426Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:21:24.426Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:21:26.122Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:26.122Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:26.122Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:21:26.123Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:27.859Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:21:27.859Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:21:27.859Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:27.860Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:27.860Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:21:28.143Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:21:28.143Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:28.144Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:28.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:28.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:28.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:28.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:28.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:28.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:28.146Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:28.146Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:21:28.146Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:28.147Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:21:28.147Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:28.148Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:21:28.149Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:28.150Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:21:28.151Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:28.756Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:21:28.756Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:21:29.588Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:21:29.588Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:21:29.597Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:21:29.598Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:21:29.616Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:21:29.616Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:21:29.617Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:29.617Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:29.617Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:21:30.107Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:21:30.107Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:21:30.107Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:30.107Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:30.108Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:21:30.539Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:21:30.539Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:21:30.540Z] Validating nodejs source
[debug] [2025-05-11T14:21:31.887Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:21:31.888Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:21:31.889Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:21:31.901Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8005

[debug] [2025-05-11T14:21:32.605Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:36.643Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:36.643Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:36.643Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:21:36.643Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:38.073Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:21:38.073Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:21:38.073Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:21:38.074Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:21:38.074Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:21:38.074Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:38.074Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:38.074Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:21:38.074Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:38.074Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:21:39.206Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:21:39.206Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:21:39.207Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:39.207Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:39.208Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:21:40.602Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:21:40.603Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:21:40.649Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:40.649Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:40.649Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:21:41.506Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:21:41.506Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:21:41.506Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:41.506Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:41.506Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:21:43.106Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:21:43.107Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {"functions":[{"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"build":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-05-11T14:16:53.624783522Z","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","createTime":"2025-05-11T14:16:01.987174863Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:43.110Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:43.110Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:43.110Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:21:43.110Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:44.518Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:21:44.518Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:44.519Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:44.519Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:44.520Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:44.520Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:44.520Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:44.520Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:21:44.521Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:44.521Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:44.521Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:21:44.521Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:44.521Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:21:44.521Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:44.523Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:21:44.524Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:44.526Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:21:44.526Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:44.887Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:21:44.888Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:21:46.208Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:21:46.209Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:21:46.210Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:21:46.210Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-11T14:21:46.223Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:21:46.223Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:21:46.224Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:46.224Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:21:46.224Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:46.224Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:46.225Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:21:46.225Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:21:46.563Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:21:46.563Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:21:46.939Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:21:46.939Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:21:46.941Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:46.941Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:46.941Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:21:46.941Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:21:47.637Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:21:47.637Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:21:47.637Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:47.637Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:47.637Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:21:48.885Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:21:48.885Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:21:48.887Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:48.887Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:48.887Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:21:50.432Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:21:50.432Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[debug] [2025-05-11T14:21:50.434Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:50.434Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:50.434Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-11T14:21:51.926Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-11T14:21:51.926Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip?GoogleAccessId=service-376632403855@gcf-admin-robot.iam.gserviceaccount.com&Expires=1746975113&Signature=jSApQgf4eh4gm%2BaaB%2Bcg9%2FjoPsXyuu62wV0EWNcZlgD%2Fr45q6fdjeAGbi8AE5gSa3ZLUQrX68JbIHHjg1WO2jc%2BDtJ%2Be9UcpKHjAm14u7TdBOSGYQ%2Bp2WxjQYNUIkWpdAUVGPvzqNo3Zz2KMZyowFWm5gues7yK016OhlXvJmMiEM3Tv2Qw9RHIfPaEXysr88Wb3rAxiaktSacplPBRgYD133KbzoIGgKozllkD7ZavJz3F%2B3WyQQy%2FOvPR9tw18IkKgIyg1dtPt8zRRiSHRCAFOoZ6QoiDtlteOHmmjSGawBk0mpw24hNQ33hdBWi%2BdSfmEqtgdWnFJBopSigvrSw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip"}}
[debug] [2025-05-11T14:21:51.927Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip GoogleAccessId=service-376632403855%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1746975113&Signature=jSApQgf4eh4gm%2BaaB%2Bcg9%2FjoPsXyuu62wV0EWNcZlgD%2Fr45q6fdjeAGbi8AE5gSa3ZLUQrX68JbIHHjg1WO2jc%2BDtJ%2Be9UcpKHjAm14u7TdBOSGYQ%2Bp2WxjQYNUIkWpdAUVGPvzqNo3Zz2KMZyowFWm5gues7yK016OhlXvJmMiEM3Tv2Qw9RHIfPaEXysr88Wb3rAxiaktSacplPBRgYD133KbzoIGgKozllkD7ZavJz3F%2B3WyQQy%2FOvPR9tw18IkKgIyg1dtPt8zRRiSHRCAFOoZ6QoiDtlteOHmmjSGawBk0mpw24hNQ33hdBWi%2BdSfmEqtgdWnFJBopSigvrSw%3D%3D
[debug] [2025-05-11T14:21:51.927Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip [stream]
[debug] [2025-05-11T14:21:53.851Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip 200
[debug] [2025-05-11T14:21:53.851Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:21:53.857Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:53.857Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:53.858Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-11T14:21:53.858Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh {"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"0bce2480-0d87-4c09-bb4a-b465535b6e0a.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"}}
[debug] [2025-05-11T14:21:55.961Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh 200
[debug] [2025-05-11T14:21:55.961Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-11T14:21:55.962Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:55.962Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:55.962Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:21:57.258Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:21:57.259Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:21:57.770Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:21:57.770Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:57.770Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:21:57.770Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:21:59.061Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:21:59.061Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:00.063Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:00.063Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:00.063Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:00.063Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:01.330Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:01.330Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:03.330Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:03.331Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:03.331Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:03.331Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:04.609Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:04.609Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:08.617Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:08.618Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:08.618Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:08.618Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:09.885Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:09.886Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:17.899Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:17.900Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:17.900Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:17.900Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:19.270Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:19.270Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:29.278Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:29.279Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:29.279Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:29.279Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:30.643Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:30.643Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:40.644Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:40.644Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:40.644Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:40.644Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:42.011Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:42.011Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763"},"done":false}
[debug] [2025-05-11T14:22:52.027Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:22:52.027Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:52.029Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:52.030Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 [none]
[debug] [2025-05-11T14:22:53.433Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 200
[debug] [2025-05-11T14:22:53.433Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973316916-634dcebfca396-f9384bc9-da897ef4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:21:57.733028153Z","endTime":"2025-05-11T14:22:44.892127066Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs20","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973317685998"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_22_19_248Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855."}}
[debug] [2025-05-11T14:22:53.435Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: jest@29.7.0 from lock file
npm error Missing: @jest/core@29.7.0 from lock file
npm error Missing: @jest/types@29.6.3 from lock file
npm error Missing: import-local@3.2.0 from lock file
npm error Missing: jest-cli@29.7.0 from lock file
npm error Missing: @jest/console@29.7.0 from lock file
npm error Missing: @jest/reporters@29.7.0 from lock file
npm error Missing: @jest/test-result@29.7.0 from lock file
npm error Missing: @jest/transform@29.7.0 from lock file
npm error Missing: ansi-escapes@4.3.2 from lock file
npm error Missing: ci-info@3.9.0 from lock file
npm error Missing: exit@0.1.2 from lock file
npm error Missing: graceful-fs@4.2.11 from lock file
npm error Missing: jest-changed-files@29.7.0 from lock file
npm error Missing: jest-config@29.7.0 from lock file
npm error Missing: jest-haste-map@29.7.0 from lock file
npm error Missing: jest-message-util@29.7.0 from lock file
npm error Missing: jest-regex-util@29.6.3 from lock file
npm error Missing: jest-resolve@29.7.0 from lock file
npm error Missing: jest-resolve-dependencies@29.7.0 from lock file
npm error Missing: jest-runner@29.7.0 from lock file
npm error Missing: jest-runtime@29.7.0 from lock file
npm error Missing: jest-snapshot@29.7.0 from lock file
npm error Missing: jest-util@29.7.0 from lock file
npm error Missing: jest-validate@29.7.0 from lock file
npm error Missing: jest-watcher@29.7.0 from lock file
npm error Missing: micromatch@4.0.8 from lock file
npm error Missing: pretty-format@29.7.0 from lock file
npm error Missing: slash@3.0.0 from lock file
npm error Missing: @bcoe/v8-coverage@0.2.3 from lock file
npm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file
npm error Missing: collect-v8-coverage@1.0.2 from lock file
npm error Missing: istanbul-lib-coverage@3.2.2 from lock file
npm error Missing: istanbul-lib-instrument@6.0.3 from lock file
npm error Missing: istanbul-lib-report@3.0.1 from lock file
npm error Missing: istanbul-lib-source-maps@4.0.1 from lock file
npm error Missing: istanbul-reports@3.1.7 from lock file
npm error Missing: jest-worker@29.7.0 from lock file
npm error Missing: string-length@4.0.2 from lock file
npm error Missing: v8-to-istanbul@9.3.0 from lock file
npm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file
npm error Missing: @babel/core@7.27.1 from lock file
npm error Missing: babel-plugin-istanbul@6.1.1 from lock file
npm error Missing: convert-source-map@2.0.0 from lock file
npm error Missing: pirates@4.0.7 from lock file
npm error Missing: write-file-atomic@4.0.2 from lock file
npm error Missing: @ampproject/remapping@2.3.0 from lock file
npm error Missing: @babel/code-frame@7.27.1 from lock file
npm error Missing: @babel/generator@7.27.1 from lock file
npm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file
npm error Missing: @babel/helper-module-transforms@7.27.1 from lock file
npm error Missing: @babel/helpers@7.27.1 from lock file
npm error Missing: @babel/parser@7.27.2 from lock file
npm error Missing: @babel/template@7.27.2 from lock file
npm error Missing: @babel/traverse@7.27.1 from lock file
npm error Missing: @babel/types@7.27.1 from lock file
npm error Missing: gensync@1.0.0-beta.2 from lock file
npm error Missing: json5@2.2.3 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file
npm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file
npm error Missing: js-tokens@4.0.0 from lock file
npm error Missing: picocolors@1.1.1 from lock file
npm error Missing: jsesc@3.1.0 from lock file
npm error Missing: @babel/compat-data@7.27.2 from lock file
npm error Missing: @babel/helper-validator-option@7.27.1 from lock file
npm error Missing: browserslist@4.24.5 from lock file
npm error Missing: lru-cache@5.1.1 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @babel/helper-module-imports@7.27.1 from lock file
npm error Missing: globals@11.12.0 from lock file
npm error Missing: @babel/helper-string-parser@7.27.1 from lock file
npm error Missing: @jest/schemas@29.6.3 from lock file
npm error Missing: @types/istanbul-reports@3.0.4 from lock file
npm error Missing: @types/yargs@17.0.33 from lock file
npm error Missing: @sinclair/typebox@0.27.8 from lock file
npm error Missing: @jridgewell/set-array@1.2.1 from lock file
npm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file
npm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file
npm error Missing: @types/istanbul-lib-report@3.0.3 from lock file
npm error Missing: @types/yargs-parser@21.0.3 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file
npm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file
npm error Missing: @istanbuljs/schema@0.1.3 from lock file
npm error Missing: istanbul-lib-instrument@5.2.1 from lock file
npm error Missing: test-exclude@6.0.0 from lock file
npm error Missing: camelcase@5.3.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: get-package-type@0.1.0 from lock file
npm error Missing: js-yaml@3.14.1 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: caniuse-lite@1.0.30001717 from lock file
npm error Missing: electron-to-chromium@1.5.151 from lock file
npm error Missing: node-releases@2.0.19 from lock file
npm error Missing: update-browserslist-db@1.1.3 from lock file
npm error Missing: pkg-dir@4.2.0 from lock file
npm error Missing: resolve-cwd@3.0.0 from lock file
npm error Missing: make-dir@4.0.0 from lock file
npm error Missing: source-map@0.6.1 from lock file
npm error Missing: html-escaper@2.0.2 from lock file
npm error Missing: execa@5.1.1 from lock file
npm error Missing: get-stream@6.0.1 from lock file
npm error Missing: human-signals@2.1.0 from lock file
npm error Missing: merge-stream@2.0.0 from lock file
npm error Missing: npm-run-path@4.0.1 from lock file
npm error Missing: onetime@5.1.2 from lock file
npm error Missing: signal-exit@3.0.7 from lock file
npm error Missing: strip-final-newline@2.0.0 from lock file
npm error Missing: create-jest@29.7.0 from lock file
npm error Missing: prompts@2.4.2 from lock file
npm error Missing: @jest/test-sequencer@29.7.0 from lock file
npm error Missing: babel-jest@29.7.0 from lock file
npm error Missing: deepmerge@4.3.1 from lock file
npm error Missing: jest-circus@29.7.0 from lock file
npm error Missing: jest-environment-node@29.7.0 from lock file
npm error Missing: jest-get-type@29.6.3 from lock file
npm error Missing: parse-json@5.2.0 from lock file
npm error Missing: @types/babel__core@7.20.5 from lock file
npm error Missing: babel-preset-jest@29.6.3 from lock file
npm error Missing: @types/babel__generator@7.27.0 from lock file
npm error Missing: @types/babel__template@7.4.4 from lock file
npm error Missing: @types/babel__traverse@7.20.7 from lock file
npm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file
npm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file
npm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file
npm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file
npm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file
npm error Missing: @jest/environment@29.7.0 from lock file
npm error Missing: @jest/expect@29.7.0 from lock file
npm error Missing: co@4.6.0 from lock file
npm error Missing: dedent@1.6.0 from lock file
npm error Missing: is-generator-fn@2.1.0 from lock file
npm error Missing: jest-each@29.7.0 from lock file
npm error Missing: jest-matcher-utils@29.7.0 from lock file
npm error Missing: pure-rand@6.1.0 from lock file
npm error Missing: stack-utils@2.0.6 from lock file
npm error Missing: @jest/fake-timers@29.7.0 from lock file
npm error Missing: jest-mock@29.7.0 from lock file
npm error Missing: expect@29.7.0 from lock file
npm error Missing: @sinonjs/fake-timers@10.3.0 from lock file
npm error Missing: @sinonjs/commons@3.0.1 from lock file
npm error Missing: type-detect@4.0.8 from lock file
npm error Missing: @jest/expect-utils@29.7.0 from lock file
npm error Missing: @types/graceful-fs@4.1.9 from lock file
npm error Missing: anymatch@3.1.3 from lock file
npm error Missing: fb-watchman@2.0.2 from lock file
npm error Missing: fsevents@2.3.3 from lock file
npm error Missing: walker@1.0.8 from lock file
npm error Missing: normalize-path@3.0.0 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: bser@2.1.1 from lock file
npm error Missing: node-int64@0.4.0 from lock file
npm error Missing: jest-diff@29.7.0 from lock file
npm error Missing: diff-sequences@29.6.3 from lock file
npm error Missing: @types/stack-utils@2.0.3 from lock file
npm error Missing: jest-pnp-resolver@1.2.3 from lock file
npm error Missing: resolve@1.22.10 from lock file
npm error Missing: resolve.exports@2.0.3 from lock file
npm error Missing: emittery@0.13.1 from lock file
npm error Missing: jest-docblock@29.7.0 from lock file
npm error Missing: jest-leak-detector@29.7.0 from lock file
npm error Missing: source-map-support@0.5.13 from lock file
npm error Missing: detect-newline@3.1.0 from lock file
npm error Missing: @jest/globals@29.7.0 from lock file
npm error Missing: @jest/source-map@29.6.3 from lock file
npm error Missing: cjs-module-lexer@1.4.3 from lock file
npm error Missing: strip-bom@4.0.0 from lock file
npm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file
npm error Missing: camelcase@6.3.0 from lock file
npm error Missing: leven@3.1.0 from lock file
npm error Missing: supports-color@8.1.1 from lock file
npm error Missing: braces@3.0.3 from lock file
npm error Missing: fill-range@7.1.1 from lock file
npm error Missing: to-regex-range@5.0.1 from lock file
npm error Missing: mimic-fn@2.1.0 from lock file
npm error Missing: error-ex@1.3.2 from lock file
npm error Missing: json-parse-even-better-errors@2.3.1 from lock file
npm error Missing: lines-and-columns@1.2.4 from lock file
npm error Missing: is-arrayish@0.2.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: ansi-styles@5.2.0 from lock file
npm error Missing: react-is@18.3.1 from lock file
npm error Missing: kleur@3.0.3 from lock file
npm error Missing: sisteransi@1.0.5 from lock file
npm error Missing: is-core-module@2.16.1 from lock file
npm error Missing: path-parse@1.0.7 from lock file
npm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: buffer-from@1.1.2 from lock file
npm error Missing: escape-string-regexp@2.0.0 from lock file
npm error Missing: char-regex@1.0.2 from lock file
npm error Missing: is-number@7.0.0 from lock file
npm error Missing: makeerror@1.0.12 from lock file
npm error Missing: tmpl@1.0.5 from lock file
npm error Missing: yallist@3.1.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: argparse@1.0.10 from lock file
npm error Missing: esprima@4.0.1 from lock file
npm error Missing: sprintf-js@1.0.3 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error Missing: p-try@2.2.0 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_22_19_248Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855.
[debug] [2025-05-11T14:22:53.466Z] Total Function Deployment time: 59591
[debug] [2025-05-11T14:22:53.466Z] 1 Functions Deployed
[debug] [2025-05-11T14:22:53.466Z] 1 Functions Errored
[debug] [2025-05-11T14:22:53.466Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:22:53.466Z] Average Function Deployment time: 59589
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:22:53.589Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:53.589Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:22:53.589Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:22:55.002Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:22:55.002Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:22:55.003Z] Functions deploy failed.
[debug] [2025-05-11T14:22:55.004Z] {
  "endpoint": {
    "id": "monthlyLeaderboardRefresh",
    "project": "uniexp-bfc54",
    "region": "us-central1",
    "entryPoint": "monthlyLeaderboardRefresh",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "scheduleTrigger": {
      "schedule": "0 0 1 * *",
      "timeZone": "Asia/Kuala_Lumpur",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "uniexp-bfc54",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "5e7cddcec7c5538e27b37646dd8ea9610b0cd696"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_22_19_248Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_22_19_248Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7ee2f8d2-4d35-4e8d-9fe3-58dfc4821763?project=376632403855."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-11T14:22:55.049Z] Error: Failed to update function monthlyLeaderboardRefresh in region us-central1
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.updateV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:388:32)
    at async Fabricator.updateEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:13)
    at async handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:24:18.988Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:24:19.012Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:24:19.014Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:24:19.014Z] Platform:      win32
[debug] [2025-05-11T14:24:19.015Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:24:19.018Z] Time:          Sun May 11 2025 22:24:19 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:24:19.019Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:24:19.609Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:24:19.610Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:24:19.610Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:24:19.613Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:19.613Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:19.615Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:24:19.615Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:19.615Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:24:21.002Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:24:21.002Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:24:21.003Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:21.003Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:21.004Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:24:21.004Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:24:21.392Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:24:21.392Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:24:23.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:23.145Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:23.146Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:24:23.146Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:24.673Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:24:24.673Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:24:24.674Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:24.674Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:24.674Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:24:25.077Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:24:25.077Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:25.080Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:25.080Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:25.080Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:25.080Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:25.081Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:25.081Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:25.082Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:25.082Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:25.082Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:24:25.082Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:25.083Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:24:25.084Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:25.088Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:24:25.088Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:25.091Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:24:25.091Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:25.420Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:24:25.420Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:24:26.473Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:24:26.473Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:24:26.522Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:24:26.522Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:24:26.553Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:24:26.553Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:24:26.557Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:26.557Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:26.558Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:24:27.214Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:24:27.214Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:24:27.215Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:27.215Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:27.215Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:24:27.584Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:24:27.584Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:24:27.587Z] Validating nodejs source
[debug] [2025-05-11T14:24:30.224Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:24:30.225Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:24:30.228Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:24:30.258Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8720

[debug] [2025-05-11T14:24:31.431Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:35.525Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:35.525Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:35.526Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:24:35.526Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:36.959Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:24:36.961Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:24:36.962Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:24:36.963Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:24:36.963Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:24:36.964Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:36.964Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:36.964Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:24:36.964Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:36.964Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:24:38.184Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:24:38.184Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:24:38.186Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:38.187Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:38.188Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:24:39.520Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:24:39.521Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:24:39.713Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:39.713Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:39.714Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:24:40.540Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:24:40.540Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:24:40.542Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:40.542Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:40.543Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:24:42.178Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:24:42.178Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {"functions":[{"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"build":"projects/376632403855/locations/us-central1/builds/e659a601-74e6-43aa-8bbb-ea7a66051566","runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"UNKNOWN","updateTime":"2025-05-11T14:22:44.900558825Z","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"5e7cddcec7c5538e27b37646dd8ea9610b0cd696"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","createTime":"2025-05-11T14:16:01.987174863Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:42.188Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:42.189Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:42.189Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:24:42.189Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:43.616Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:24:43.616Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:43.619Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:43.619Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:43.620Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:43.620Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:43.621Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:43.622Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:24:43.623Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:43.623Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:43.624Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:24:43.624Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:43.625Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:24:43.625Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:43.630Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:24:43.631Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:43.636Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:24:43.636Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:44.025Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:24:44.026Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:24:45.092Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:24:45.092Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:24:45.105Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:24:45.105Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-11T14:24:45.110Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:24:45.110Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:24:45.113Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:45.113Z] Checked if tokens are valid: true, expires at: 1746975062359
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:24:45.114Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:45.115Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:45.116Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:24:45.119Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:24:45.560Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:24:45.560Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:24:45.580Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:24:45.580Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:24:45.588Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:45.589Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:45.589Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:24:45.589Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:24:46.578Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:24:46.578Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:24:46.579Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:46.579Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:46.579Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:24:47.757Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:24:47.757Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:24:47.761Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:47.762Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:47.762Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:24:49.207Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:24:49.208Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[debug] [2025-05-11T14:24:49.213Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:49.213Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:49.213Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-11T14:24:51.190Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-11T14:24:51.190Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip?GoogleAccessId=service-376632403855@gcf-admin-robot.iam.gserviceaccount.com&Expires=1746975292&Signature=WfetY7vP97LTux00ImCgWxhOg72%2FYkonZIDqa3DNqYd3WEp3DV98N4wwn93QxRWgn5cECPt9rovnlMz7pGIJ%2FzmqL31CleASkIPIs6LDSmfxOigoQr2ys%2FSuOsCgauyVoUCW%2BB7980sJ34o4vtZMf6fVaUQK%2F73HjKp2wkdLBhhSJuU3CyEQDCGQlr3BctNLipbWHNU1035CxmExpLeAuUzi9vHOkSAMbxyT%2FIktKNLZ6GCIoeRlZuV3qqRCVi6h3jApulNsaB3HhaWia6ytOToNq4fRn%2Fpg986esALQh%2BPE7DpX%2FjqUcHP76%2BEAKhAXjTCKkhm55Zqx9U0LIQ39eQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip"}}
[debug] [2025-05-11T14:24:51.193Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip GoogleAccessId=service-376632403855%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1746975292&Signature=WfetY7vP97LTux00ImCgWxhOg72%2FYkonZIDqa3DNqYd3WEp3DV98N4wwn93QxRWgn5cECPt9rovnlMz7pGIJ%2FzmqL31CleASkIPIs6LDSmfxOigoQr2ys%2FSuOsCgauyVoUCW%2BB7980sJ34o4vtZMf6fVaUQK%2F73HjKp2wkdLBhhSJuU3CyEQDCGQlr3BctNLipbWHNU1035CxmExpLeAuUzi9vHOkSAMbxyT%2FIktKNLZ6GCIoeRlZuV3qqRCVi6h3jApulNsaB3HhaWia6ytOToNq4fRn%2Fpg986esALQh%2BPE7DpX%2FjqUcHP76%2BEAKhAXjTCKkhm55Zqx9U0LIQ39eQ%3D%3D
[debug] [2025-05-11T14:24:51.193Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip [stream]
[debug] [2025-05-11T14:24:52.110Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip 200
[debug] [2025-05-11T14:24:52.110Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:24:52.128Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:52.129Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:52.130Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-11T14:24:52.130Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh {"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"39c8659b-20d8-4080-a40a-d05b0c9fd6d4.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"}}
[debug] [2025-05-11T14:24:54.176Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh 200
[debug] [2025-05-11T14:24:54.177Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-11T14:24:54.178Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:54.179Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:54.179Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:24:55.496Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:24:55.496Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:24:56.011Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:24:56.011Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:56.012Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:56.012Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:24:56.303Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:24:56.303Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:24:57.306Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:24:57.307Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:57.307Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:24:57.307Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:24:58.772Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:24:58.773Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:25:00.775Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:25:00.775Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:00.775Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:00.775Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:25:02.058Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:25:02.058Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:25:06.073Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:25:06.074Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:06.074Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:06.074Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:25:07.368Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:25:07.368Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:25:15.371Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:25:15.372Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:15.372Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:15.372Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:25:16.817Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:25:16.817Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:25:26.818Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:25:26.818Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:26.818Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:26.819Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:25:28.178Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:25:28.178Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:25:38.189Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:25:38.189Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:38.189Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:38.190Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:25:39.633Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:25:39.634Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/c224839c-8d20-4ebe-a256-73b104cc0106"},"done":false}
[debug] [2025-05-11T14:25:49.635Z] [update-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:25:49.635Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:49.636Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:49.636Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 [none]
[debug] [2025-05-11T14:25:51.000Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 200
[debug] [2025-05-11T14:25:51.000Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746973495223-634dcf69d638e-dc03eb83-f1dbb802","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:24:55.942953790Z","endTime":"2025-05-11T14:25:45.913571902Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746973495895116"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746972961768329"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-uniexp-bfc54.cloudfunctions.net/monthlyLeaderboardRefresh","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_25_16_347Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855."}}
[debug] [2025-05-11T14:25:51.015Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: jest@29.7.0 from lock file
npm error Missing: @jest/core@29.7.0 from lock file
npm error Missing: @jest/types@29.6.3 from lock file
npm error Missing: import-local@3.2.0 from lock file
npm error Missing: jest-cli@29.7.0 from lock file
npm error Missing: @jest/console@29.7.0 from lock file
npm error Missing: @jest/reporters@29.7.0 from lock file
npm error Missing: @jest/test-result@29.7.0 from lock file
npm error Missing: @jest/transform@29.7.0 from lock file
npm error Missing: ansi-escapes@4.3.2 from lock file
npm error Missing: ci-info@3.9.0 from lock file
npm error Missing: exit@0.1.2 from lock file
npm error Missing: graceful-fs@4.2.11 from lock file
npm error Missing: jest-changed-files@29.7.0 from lock file
npm error Missing: jest-config@29.7.0 from lock file
npm error Missing: jest-haste-map@29.7.0 from lock file
npm error Missing: jest-message-util@29.7.0 from lock file
npm error Missing: jest-regex-util@29.6.3 from lock file
npm error Missing: jest-resolve@29.7.0 from lock file
npm error Missing: jest-resolve-dependencies@29.7.0 from lock file
npm error Missing: jest-runner@29.7.0 from lock file
npm error Missing: jest-runtime@29.7.0 from lock file
npm error Missing: jest-snapshot@29.7.0 from lock file
npm error Missing: jest-util@29.7.0 from lock file
npm error Missing: jest-validate@29.7.0 from lock file
npm error Missing: jest-watcher@29.7.0 from lock file
npm error Missing: micromatch@4.0.8 from lock file
npm error Missing: pretty-format@29.7.0 from lock file
npm error Missing: slash@3.0.0 from lock file
npm error Missing: @bcoe/v8-coverage@0.2.3 from lock file
npm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file
npm error Missing: collect-v8-coverage@1.0.2 from lock file
npm error Missing: istanbul-lib-coverage@3.2.2 from lock file
npm error Missing: istanbul-lib-instrument@6.0.3 from lock file
npm error Missing: istanbul-lib-report@3.0.1 from lock file
npm error Missing: istanbul-lib-source-maps@4.0.1 from lock file
npm error Missing: istanbul-reports@3.1.7 from lock file
npm error Missing: jest-worker@29.7.0 from lock file
npm error Missing: string-length@4.0.2 from lock file
npm error Missing: v8-to-istanbul@9.3.0 from lock file
npm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file
npm error Missing: @babel/core@7.27.1 from lock file
npm error Missing: babel-plugin-istanbul@6.1.1 from lock file
npm error Missing: convert-source-map@2.0.0 from lock file
npm error Missing: pirates@4.0.7 from lock file
npm error Missing: write-file-atomic@4.0.2 from lock file
npm error Missing: @ampproject/remapping@2.3.0 from lock file
npm error Missing: @babel/code-frame@7.27.1 from lock file
npm error Missing: @babel/generator@7.27.1 from lock file
npm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file
npm error Missing: @babel/helper-module-transforms@7.27.1 from lock file
npm error Missing: @babel/helpers@7.27.1 from lock file
npm error Missing: @babel/parser@7.27.2 from lock file
npm error Missing: @babel/template@7.27.2 from lock file
npm error Missing: @babel/traverse@7.27.1 from lock file
npm error Missing: @babel/types@7.27.1 from lock file
npm error Missing: gensync@1.0.0-beta.2 from lock file
npm error Missing: json5@2.2.3 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file
npm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file
npm error Missing: js-tokens@4.0.0 from lock file
npm error Missing: picocolors@1.1.1 from lock file
npm error Missing: jsesc@3.1.0 from lock file
npm error Missing: @babel/compat-data@7.27.2 from lock file
npm error Missing: @babel/helper-validator-option@7.27.1 from lock file
npm error Missing: browserslist@4.24.5 from lock file
npm error Missing: lru-cache@5.1.1 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @babel/helper-module-imports@7.27.1 from lock file
npm error Missing: globals@11.12.0 from lock file
npm error Missing: @babel/helper-string-parser@7.27.1 from lock file
npm error Missing: @jest/schemas@29.6.3 from lock file
npm error Missing: @types/istanbul-reports@3.0.4 from lock file
npm error Missing: @types/yargs@17.0.33 from lock file
npm error Missing: @sinclair/typebox@0.27.8 from lock file
npm error Missing: @jridgewell/set-array@1.2.1 from lock file
npm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file
npm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file
npm error Missing: @types/istanbul-lib-report@3.0.3 from lock file
npm error Missing: @types/yargs-parser@21.0.3 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file
npm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file
npm error Missing: @istanbuljs/schema@0.1.3 from lock file
npm error Missing: istanbul-lib-instrument@5.2.1 from lock file
npm error Missing: test-exclude@6.0.0 from lock file
npm error Missing: camelcase@5.3.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: get-package-type@0.1.0 from lock file
npm error Missing: js-yaml@3.14.1 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: caniuse-lite@1.0.30001717 from lock file
npm error Missing: electron-to-chromium@1.5.151 from lock file
npm error Missing: node-releases@2.0.19 from lock file
npm error Missing: update-browserslist-db@1.1.3 from lock file
npm error Missing: pkg-dir@4.2.0 from lock file
npm error Missing: resolve-cwd@3.0.0 from lock file
npm error Missing: make-dir@4.0.0 from lock file
npm error Missing: source-map@0.6.1 from lock file
npm error Missing: html-escaper@2.0.2 from lock file
npm error Missing: execa@5.1.1 from lock file
npm error Missing: get-stream@6.0.1 from lock file
npm error Missing: human-signals@2.1.0 from lock file
npm error Missing: merge-stream@2.0.0 from lock file
npm error Missing: npm-run-path@4.0.1 from lock file
npm error Missing: onetime@5.1.2 from lock file
npm error Missing: signal-exit@3.0.7 from lock file
npm error Missing: strip-final-newline@2.0.0 from lock file
npm error Missing: create-jest@29.7.0 from lock file
npm error Missing: prompts@2.4.2 from lock file
npm error Missing: @jest/test-sequencer@29.7.0 from lock file
npm error Missing: babel-jest@29.7.0 from lock file
npm error Missing: deepmerge@4.3.1 from lock file
npm error Missing: jest-circus@29.7.0 from lock file
npm error Missing: jest-environment-node@29.7.0 from lock file
npm error Missing: jest-get-type@29.6.3 from lock file
npm error Missing: parse-json@5.2.0 from lock file
npm error Missing: @types/babel__core@7.20.5 from lock file
npm error Missing: babel-preset-jest@29.6.3 from lock file
npm error Missing: @types/babel__generator@7.27.0 from lock file
npm error Missing: @types/babel__template@7.4.4 from lock file
npm error Missing: @types/babel__traverse@7.20.7 from lock file
npm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file
npm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file
npm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file
npm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file
npm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file
npm error Missing: @jest/environment@29.7.0 from lock file
npm error Missing: @jest/expect@29.7.0 from lock file
npm error Missing: co@4.6.0 from lock file
npm error Missing: dedent@1.6.0 from lock file
npm error Missing: is-generator-fn@2.1.0 from lock file
npm error Missing: jest-each@29.7.0 from lock file
npm error Missing: jest-matcher-utils@29.7.0 from lock file
npm error Missing: pure-rand@6.1.0 from lock file
npm error Missing: stack-utils@2.0.6 from lock file
npm error Missing: @jest/fake-timers@29.7.0 from lock file
npm error Missing: jest-mock@29.7.0 from lock file
npm error Missing: expect@29.7.0 from lock file
npm error Missing: @sinonjs/fake-timers@10.3.0 from lock file
npm error Missing: @sinonjs/commons@3.0.1 from lock file
npm error Missing: type-detect@4.0.8 from lock file
npm error Missing: @jest/expect-utils@29.7.0 from lock file
npm error Missing: @types/graceful-fs@4.1.9 from lock file
npm error Missing: anymatch@3.1.3 from lock file
npm error Missing: fb-watchman@2.0.2 from lock file
npm error Missing: fsevents@2.3.3 from lock file
npm error Missing: walker@1.0.8 from lock file
npm error Missing: normalize-path@3.0.0 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: bser@2.1.1 from lock file
npm error Missing: node-int64@0.4.0 from lock file
npm error Missing: jest-diff@29.7.0 from lock file
npm error Missing: diff-sequences@29.6.3 from lock file
npm error Missing: @types/stack-utils@2.0.3 from lock file
npm error Missing: jest-pnp-resolver@1.2.3 from lock file
npm error Missing: resolve@1.22.10 from lock file
npm error Missing: resolve.exports@2.0.3 from lock file
npm error Missing: emittery@0.13.1 from lock file
npm error Missing: jest-docblock@29.7.0 from lock file
npm error Missing: jest-leak-detector@29.7.0 from lock file
npm error Missing: source-map-support@0.5.13 from lock file
npm error Missing: detect-newline@3.1.0 from lock file
npm error Missing: @jest/globals@29.7.0 from lock file
npm error Missing: @jest/source-map@29.6.3 from lock file
npm error Missing: cjs-module-lexer@1.4.3 from lock file
npm error Missing: strip-bom@4.0.0 from lock file
npm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file
npm error Missing: camelcase@6.3.0 from lock file
npm error Missing: leven@3.1.0 from lock file
npm error Missing: supports-color@8.1.1 from lock file
npm error Missing: braces@3.0.3 from lock file
npm error Missing: fill-range@7.1.1 from lock file
npm error Missing: to-regex-range@5.0.1 from lock file
npm error Missing: mimic-fn@2.1.0 from lock file
npm error Missing: error-ex@1.3.2 from lock file
npm error Missing: json-parse-even-better-errors@2.3.1 from lock file
npm error Missing: lines-and-columns@1.2.4 from lock file
npm error Missing: is-arrayish@0.2.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: ansi-styles@5.2.0 from lock file
npm error Missing: react-is@18.3.1 from lock file
npm error Missing: kleur@3.0.3 from lock file
npm error Missing: sisteransi@1.0.5 from lock file
npm error Missing: is-core-module@2.16.1 from lock file
npm error Missing: path-parse@1.0.7 from lock file
npm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: buffer-from@1.1.2 from lock file
npm error Missing: escape-string-regexp@2.0.0 from lock file
npm error Missing: char-regex@1.0.2 from lock file
npm error Missing: is-number@7.0.0 from lock file
npm error Missing: makeerror@1.0.12 from lock file
npm error Missing: tmpl@1.0.5 from lock file
npm error Missing: yallist@3.1.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: argparse@1.0.10 from lock file
npm error Missing: esprima@4.0.1 from lock file
npm error Missing: sprintf-js@1.0.3 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error Missing: p-try@2.2.0 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_25_16_347Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855.
[debug] [2025-05-11T14:25:51.080Z] Total Function Deployment time: 58924
[debug] [2025-05-11T14:25:51.081Z] 1 Functions Deployed
[debug] [2025-05-11T14:25:51.081Z] 1 Functions Errored
[debug] [2025-05-11T14:25:51.081Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:25:51.081Z] Average Function Deployment time: 58919
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:25:51.220Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:51.221Z] Checked if tokens are valid: true, expires at: 1746975062359
[debug] [2025-05-11T14:25:51.221Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:25:52.735Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:25:52.736Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:25:52.741Z] Functions deploy failed.
[debug] [2025-05-11T14:25:52.742Z] {
  "endpoint": {
    "id": "monthlyLeaderboardRefresh",
    "project": "uniexp-bfc54",
    "region": "us-central1",
    "entryPoint": "monthlyLeaderboardRefresh",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "scheduleTrigger": {
      "schedule": "0 0 1 * *",
      "timeZone": "Asia/Kuala_Lumpur",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "uniexp-bfc54",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "acd351de6296e432919c59032a819f01da9144ce"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_25_16_347Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_25_16_347Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/c224839c-8d20-4ebe-a256-73b104cc0106?project=376632403855."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-11T14:25:52.802Z] Error: Failed to update function monthlyLeaderboardRefresh in region us-central1
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.updateV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:388:32)
    at async Fabricator.updateEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:13)
    at async handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-05-11T14:36:50.491Z] ----------------------------------------------------------------------
[debug] [2025-05-11T14:36:50.507Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --project uniexp-bfc54
[debug] [2025-05-11T14:36:50.508Z] CLI Version:   14.3.1
[debug] [2025-05-11T14:36:50.508Z] Platform:      win32
[debug] [2025-05-11T14:36:50.509Z] Node Version:  v22.15.0
[debug] [2025-05-11T14:36:50.511Z] Time:          Sun May 11 2025 22:36:50 GMT+0800 (Malaysia Time)
[debug] [2025-05-11T14:36:50.511Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-11T14:36:50.867Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:36:50.868Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:36:50.868Z] [iam] checking project uniexp-bfc54 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-11T14:36:50.870Z] Checked if tokens are valid: false, expires at: 1746975062359
[debug] [2025-05-11T14:36:50.870Z] Checked if tokens are valid: false, expires at: 1746975062359
[debug] [2025-05-11T14:36:50.870Z] > refreshing access token with scopes: []
[debug] [2025-05-11T14:36:50.873Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-05-11T14:36:50.873Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-05-11T14:36:51.195Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-05-11T14:36:51.196Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-05-11T14:36:51.219Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:36:51.219Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:36:51.220Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:36:52.444Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:36:52.445Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-11T14:36:52.446Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:52.447Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:52.447Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-11T14:36:52.447Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-11T14:36:53.159Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-11T14:36:53.160Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/uniexp-bfc54/serviceAccounts/uniexp-bfc54@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'uniexp-bfc54'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-05-11T14:36:55.633Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:55.633Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:55.634Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:36:55.634Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:36:57.140Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:36:57.141Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:36:57.141Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.142Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.143Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:36:57.458Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:36:57.458Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-11T14:36:57.464Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.464Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.465Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.465Z] Checked if tokens are valid: true, expires at: 1746977810196
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-11T14:36:57.467Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.467Z] Checked if tokens are valid: true, expires at: 1746977810196
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-11T14:36:57.468Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.469Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:57.469Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-11T14:36:57.469Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:36:57.471Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-11T14:36:57.472Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:36:57.480Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-11T14:36:57.480Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:36:57.487Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-11T14:36:57.487Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:36:57.871Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-11T14:36:57.872Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-11T14:36:58.909Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-11T14:36:58.909Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-11T14:36:58.922Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com 200
[debug] [2025-05-11T14:36:58.922Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-11T14:36:59.305Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com 200
[debug] [2025-05-11T14:36:59.306Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-11T14:36:59.307Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:59.308Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:59.308Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig [none]
[debug] [2025-05-11T14:36:59.815Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig 200
[debug] [2025-05-11T14:36:59.815Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/uniexp-bfc54/adminSdkConfig {"projectId":"uniexp-bfc54","databaseURL":"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"uniexp-bfc54.firebasestorage.app"}
[debug] [2025-05-11T14:36:59.817Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:59.817Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:36:59.818Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs [none]
[debug] [2025-05-11T14:37:01.007Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs 200
[debug] [2025-05-11T14:37:01.008Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/uniexp-bfc54/configs {}
[debug] [2025-05-11T14:37:01.013Z] Validating nodejs source
[debug] [2025-05-11T14:37:03.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/eslint": "^9.6.1",
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0",
    "globals": "^16.1.0"
  },
  "private": true
}
[debug] [2025-05-11T14:37:03.906Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-11T14:37:03.912Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-11T14:37:03.965Z] Found firebase-functions binary at 'C:\Users\USER\Desktop\UniEXP\student\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8412

[debug] [2025-05-11T14:37:05.099Z] Got response from /__/functions.yaml {"endpoints":{"monthlyLeaderboardRefresh":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 0 1 * *","retryConfig":{},"timeZone":"Asia/Kuala_Lumpur"},"entryPoint":"monthlyLeaderboardRefresh"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-11T14:37:09.202Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:09.203Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:09.203Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-11T14:37:09.203Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:10.688Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-11T14:37:10.689Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-11T14:37:10.691Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-11T14:37:10.692Z] > authorizing via signed-in user (uniexp79893@gmail.com)
[debug] [2025-05-11T14:37:10.693Z] [iam] checking project uniexp-bfc54 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-11T14:37:10.693Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:10.693Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:10.694Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions [none]
[debug] [2025-05-11T14:37:10.694Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:10.694Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:37:11.895Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions 200
[debug] [2025-05-11T14:37:11.895Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-11T14:37:11.897Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:11.897Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:11.898Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances pageSize=100&pageToken=
[debug] [2025-05-11T14:37:13.329Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances 200
[debug] [2025-05-11T14:37:13.330Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/uniexp-bfc54/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\USER\Desktop\UniEXP\student\functions (43.6 KB) for uploading 
[debug] [2025-05-11T14:37:13.516Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:13.516Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:13.516Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions [none]
[debug] [2025-05-11T14:37:14.355Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:37:14.355Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/uniexp-bfc54/locations/-/functions {}
[debug] [2025-05-11T14:37:14.357Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:14.357Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:14.357Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-11T14:37:15.990Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions 200
[debug] [2025-05-11T14:37:15.991Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-11T14:37:15.999Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:15.999Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:16.000Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-11T14:37:16.000Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:17.476Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-11T14:37:17.476Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-11T14:37:17.479Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:17.479Z] Checked if tokens are valid: true, expires at: 1746977810196
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-11T14:37:17.480Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:17.480Z] Checked if tokens are valid: true, expires at: 1746977810196
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-11T14:37:17.481Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:17.481Z] Checked if tokens are valid: true, expires at: 1746977810196
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-11T14:37:17.482Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:17.482Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:17.482Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [none]
[debug] [2025-05-11T14:37:17.483Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:17.483Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [none]
[debug] [2025-05-11T14:37:17.484Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:17.492Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [none]
[debug] [2025-05-11T14:37:17.492Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:17.498Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [none]
[debug] [2025-05-11T14:37:17.498Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:17.938Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com 200
[debug] [2025-05-11T14:37:17.938Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/run.googleapis.com [omitted]
[info] +  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-11T14:37:18.948Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com 200
[debug] [2025-05-11T14:37:18.948Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-11T14:37:18.951Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com 200
[debug] [2025-05-11T14:37:18.951Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/eventarc.googleapis.com [omitted]
[info] +  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-11T14:37:18.978Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com 200
[debug] [2025-05-11T14:37:18.978Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-11T14:37:18.981Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:18.981Z] Checked if tokens are valid: true, expires at: 1746977810196
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-11T14:37:18.983Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:18.983Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:18.984Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:37:18.985Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-11T14:37:19.372Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:37:19.372Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114673247815041323463"}}
[debug] [2025-05-11T14:37:19.373Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-11T14:37:19.373Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/376632403855/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-376632403855@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105081235348201677082"}}
[debug] [2025-05-11T14:37:19.379Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:19.380Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:19.380Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-11T14:37:19.380Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/uniexp-bfc54
[debug] [2025-05-11T14:37:20.396Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-11T14:37:20.397Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/uniexp-bfc54/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-11T14:37:20.397Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:20.397Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:20.397Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 [none]
[debug] [2025-05-11T14:37:21.623Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 200
[debug] [2025-05-11T14:37:21.623Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/uniexp-bfc54 {"projectNumber":"376632403855","projectId":"uniexp-bfc54","lifecycleState":"ACTIVE","name":"UniEXP","labels":{"firebase":"enabled"},"createTime":"2024-12-03T11:58:14.417826Z"}
[debug] [2025-05-11T14:37:21.627Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:21.628Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:21.628Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo [none]
[debug] [2025-05-11T14:37:23.048Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo 200
[debug] [2025-05-11T14:37:23.049Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/uniexp-bfc54/billingInfo {"name":"projects/uniexp-bfc54/billingInfo","projectId":"uniexp-bfc54","billingAccountName":"billingAccounts/019BF1-2D05C8-3EA6B2","billingEnabled":true}
[debug] [2025-05-11T14:37:23.054Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:23.055Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:23.055Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-11T14:37:24.603Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-11T14:37:24.604Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip?GoogleAccessId=service-376632403855@gcf-admin-robot.iam.gserviceaccount.com&Expires=1746976044&Signature=pO50n2YgPMGrkrOVOmbkj%2FN32G7QFkl00AfR7VGGvuYT9xcImYR4rp5og4dJzJudr9O6z7MrpY5fP8lYnpyI%2Bzcw0SyxR%2BDoHpEoawmxi%2BOnfXVPZy02ml%2BvBZKBLhq%2FwwreBwk5IY8uvclOyQp3uwHXNOU1Pj%2BxMaxZrPDGpbeaqwmcy1Qmjo820IeoSyBuo7ypdaucwT7TmLS%2BvmKBtrxHLi9Un2hXOn1VfOrmlvmr6kLWKULs4HJg64Ggj2DubEOP3box1q0JZ2Y7hik3l48TS9ZTgpdLFTMkI%2BzKl39RZa1ZEnbP3XOiYuyJSyAAV9lo04gMQighr4GuXfLhAw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip"}}
[debug] [2025-05-11T14:37:24.606Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip GoogleAccessId=service-376632403855%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1746976044&Signature=pO50n2YgPMGrkrOVOmbkj%2FN32G7QFkl00AfR7VGGvuYT9xcImYR4rp5og4dJzJudr9O6z7MrpY5fP8lYnpyI%2Bzcw0SyxR%2BDoHpEoawmxi%2BOnfXVPZy02ml%2BvBZKBLhq%2FwwreBwk5IY8uvclOyQp3uwHXNOU1Pj%2BxMaxZrPDGpbeaqwmcy1Qmjo820IeoSyBuo7ypdaucwT7TmLS%2BvmKBtrxHLi9Un2hXOn1VfOrmlvmr6kLWKULs4HJg64Ggj2DubEOP3box1q0JZ2Y7hik3l48TS9ZTgpdLFTMkI%2BzKl39RZa1ZEnbP3XOiYuyJSyAAV9lo04gMQighr4GuXfLhAw%3D%3D
[debug] [2025-05-11T14:37:24.607Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip [stream]
[debug] [2025-05-11T14:37:26.541Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip 200
[debug] [2025-05-11T14:37:26.542Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com/1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function monthlyLeaderboardRefresh(us-central1)... 
[debug] [2025-05-11T14:37:26.561Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:26.561Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:26.562Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions functionId=monthlyLeaderboardRefresh
[debug] [2025-05-11T14:37:26.563Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-uploads-376632403855.us-central1.cloudfunctions.appspot.com","object":"1cd0ad1c-6cd7-49e4-b422-09e28e0d901e.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"}}
[debug] [2025-05-11T14:37:28.484Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions 200
[debug] [2025-05-11T14:37:28.484Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/functions {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-11T14:37:28.486Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:28.487Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:28.487Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:37:29.932Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:37:29.933Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:37:30.441Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:37:30.442Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:30.442Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:30.443Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:37:31.761Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:37:31.761Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:37:32.766Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:37:32.767Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:32.767Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:32.767Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:37:34.115Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:37:34.115Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:37:36.117Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:37:36.117Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:36.117Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:36.117Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:37:37.495Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:37:37.495Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:37:41.498Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:37:41.499Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:41.499Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:41.499Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:37:41.802Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:37:41.803Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:37:49.825Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:37:49.826Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:49.826Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:37:49.827Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:37:51.433Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:37:51.434Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:38:01.439Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:38:01.440Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:01.440Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:01.441Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:38:02.907Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:38:02.908Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:38:12.912Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:38:12.913Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:12.913Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:12.914Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:38:13.343Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:38:13.344Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/376632403855/locations/us-central1/builds/2b695f71-2e53-48f4-8b80-415a4e7ead15"},"done":false}
[debug] [2025-05-11T14:38:23.359Z] [create-default-us-central1-monthlyLeaderboardRefresh] Retrying task index 0
[debug] [2025-05-11T14:38:23.360Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:23.361Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:23.362Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 [none]
[debug] [2025-05-11T14:38:23.698Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 200
[debug] [2025-05-11T14:38:23.698Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79 {"name":"projects/uniexp-bfc54/locations/us-central1/operations/operation-1746974247773-634dd2378661e-aea2022b-41438c79","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-11T14:37:28.255244203Z","endTime":"2025-05-11T14:38:23.383077499Z","target":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/uniexp-bfc54/locations/us-central1/functions/monthlyLeaderboardRefresh","buildConfig":{"runtime":"nodejs22","entryPoint":"monthlyLeaderboardRefresh","source":{"storageSource":{"bucket":"gcf-v2-sources-376632403855-us-central1","object":"monthlyLeaderboardRefresh/function-source.zip","generation":"1746974248035304"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/uniexp-bfc54/serviceAccounts/376632403855-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}","GCLOUD_PROJECT":"uniexp-bfc54","EVENTARC_CLOUD_EVENT_SOURCE":"projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh","FUNCTION_TARGET":"monthlyLeaderboardRefresh","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"376632403855-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"acd351de6296e432919c59032a819f01da9144ce"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/uniexp-bfc54/locations/us-central1/services/monthlyleaderboardrefresh"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_37_50_985Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855."}}
[debug] [2025-05-11T14:38:23.699Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: jest@29.7.0 from lock file
npm error Missing: @jest/core@29.7.0 from lock file
npm error Missing: @jest/types@29.6.3 from lock file
npm error Missing: import-local@3.2.0 from lock file
npm error Missing: jest-cli@29.7.0 from lock file
npm error Missing: @jest/console@29.7.0 from lock file
npm error Missing: @jest/reporters@29.7.0 from lock file
npm error Missing: @jest/test-result@29.7.0 from lock file
npm error Missing: @jest/transform@29.7.0 from lock file
npm error Missing: ansi-escapes@4.3.2 from lock file
npm error Missing: ci-info@3.9.0 from lock file
npm error Missing: exit@0.1.2 from lock file
npm error Missing: graceful-fs@4.2.11 from lock file
npm error Missing: jest-changed-files@29.7.0 from lock file
npm error Missing: jest-config@29.7.0 from lock file
npm error Missing: jest-haste-map@29.7.0 from lock file
npm error Missing: jest-message-util@29.7.0 from lock file
npm error Missing: jest-regex-util@29.6.3 from lock file
npm error Missing: jest-resolve@29.7.0 from lock file
npm error Missing: jest-resolve-dependencies@29.7.0 from lock file
npm error Missing: jest-runner@29.7.0 from lock file
npm error Missing: jest-runtime@29.7.0 from lock file
npm error Missing: jest-snapshot@29.7.0 from lock file
npm error Missing: jest-util@29.7.0 from lock file
npm error Missing: jest-validate@29.7.0 from lock file
npm error Missing: jest-watcher@29.7.0 from lock file
npm error Missing: micromatch@4.0.8 from lock file
npm error Missing: pretty-format@29.7.0 from lock file
npm error Missing: slash@3.0.0 from lock file
npm error Missing: @bcoe/v8-coverage@0.2.3 from lock file
npm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file
npm error Missing: collect-v8-coverage@1.0.2 from lock file
npm error Missing: istanbul-lib-coverage@3.2.2 from lock file
npm error Missing: istanbul-lib-instrument@6.0.3 from lock file
npm error Missing: istanbul-lib-report@3.0.1 from lock file
npm error Missing: istanbul-lib-source-maps@4.0.1 from lock file
npm error Missing: istanbul-reports@3.1.7 from lock file
npm error Missing: jest-worker@29.7.0 from lock file
npm error Missing: string-length@4.0.2 from lock file
npm error Missing: v8-to-istanbul@9.3.0 from lock file
npm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file
npm error Missing: @babel/core@7.27.1 from lock file
npm error Missing: babel-plugin-istanbul@6.1.1 from lock file
npm error Missing: convert-source-map@2.0.0 from lock file
npm error Missing: pirates@4.0.7 from lock file
npm error Missing: write-file-atomic@4.0.2 from lock file
npm error Missing: @ampproject/remapping@2.3.0 from lock file
npm error Missing: @babel/code-frame@7.27.1 from lock file
npm error Missing: @babel/generator@7.27.1 from lock file
npm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file
npm error Missing: @babel/helper-module-transforms@7.27.1 from lock file
npm error Missing: @babel/helpers@7.27.1 from lock file
npm error Missing: @babel/parser@7.27.2 from lock file
npm error Missing: @babel/template@7.27.2 from lock file
npm error Missing: @babel/traverse@7.27.1 from lock file
npm error Missing: @babel/types@7.27.1 from lock file
npm error Missing: gensync@1.0.0-beta.2 from lock file
npm error Missing: json5@2.2.3 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file
npm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file
npm error Missing: js-tokens@4.0.0 from lock file
npm error Missing: picocolors@1.1.1 from lock file
npm error Missing: jsesc@3.1.0 from lock file
npm error Missing: @babel/compat-data@7.27.2 from lock file
npm error Missing: @babel/helper-validator-option@7.27.1 from lock file
npm error Missing: browserslist@4.24.5 from lock file
npm error Missing: lru-cache@5.1.1 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: @babel/helper-module-imports@7.27.1 from lock file
npm error Missing: globals@11.12.0 from lock file
npm error Missing: @babel/helper-string-parser@7.27.1 from lock file
npm error Missing: @jest/schemas@29.6.3 from lock file
npm error Missing: @types/istanbul-reports@3.0.4 from lock file
npm error Missing: @types/yargs@17.0.33 from lock file
npm error Missing: @sinclair/typebox@0.27.8 from lock file
npm error Missing: @jridgewell/set-array@1.2.1 from lock file
npm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file
npm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file
npm error Missing: @types/istanbul-lib-report@3.0.3 from lock file
npm error Missing: @types/yargs-parser@21.0.3 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file
npm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file
npm error Missing: @istanbuljs/schema@0.1.3 from lock file
npm error Missing: istanbul-lib-instrument@5.2.1 from lock file
npm error Missing: test-exclude@6.0.0 from lock file
npm error Missing: camelcase@5.3.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: get-package-type@0.1.0 from lock file
npm error Missing: js-yaml@3.14.1 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: caniuse-lite@1.0.30001717 from lock file
npm error Missing: electron-to-chromium@1.5.151 from lock file
npm error Missing: node-releases@2.0.19 from lock file
npm error Missing: update-browserslist-db@1.1.3 from lock file
npm error Missing: pkg-dir@4.2.0 from lock file
npm error Missing: resolve-cwd@3.0.0 from lock file
npm error Missing: make-dir@4.0.0 from lock file
npm error Missing: source-map@0.6.1 from lock file
npm error Missing: html-escaper@2.0.2 from lock file
npm error Missing: execa@5.1.1 from lock file
npm error Missing: get-stream@6.0.1 from lock file
npm error Missing: human-signals@2.1.0 from lock file
npm error Missing: merge-stream@2.0.0 from lock file
npm error Missing: npm-run-path@4.0.1 from lock file
npm error Missing: onetime@5.1.2 from lock file
npm error Missing: signal-exit@3.0.7 from lock file
npm error Missing: strip-final-newline@2.0.0 from lock file
npm error Missing: create-jest@29.7.0 from lock file
npm error Missing: prompts@2.4.2 from lock file
npm error Missing: @jest/test-sequencer@29.7.0 from lock file
npm error Missing: babel-jest@29.7.0 from lock file
npm error Missing: deepmerge@4.3.1 from lock file
npm error Missing: jest-circus@29.7.0 from lock file
npm error Missing: jest-environment-node@29.7.0 from lock file
npm error Missing: jest-get-type@29.6.3 from lock file
npm error Missing: parse-json@5.2.0 from lock file
npm error Missing: @types/babel__core@7.20.5 from lock file
npm error Missing: babel-preset-jest@29.6.3 from lock file
npm error Missing: @types/babel__generator@7.27.0 from lock file
npm error Missing: @types/babel__template@7.4.4 from lock file
npm error Missing: @types/babel__traverse@7.20.7 from lock file
npm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file
npm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file
npm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file
npm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file
npm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file
npm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file
npm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file
npm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file
npm error Missing: @jest/environment@29.7.0 from lock file
npm error Missing: @jest/expect@29.7.0 from lock file
npm error Missing: co@4.6.0 from lock file
npm error Missing: dedent@1.6.0 from lock file
npm error Missing: is-generator-fn@2.1.0 from lock file
npm error Missing: jest-each@29.7.0 from lock file
npm error Missing: jest-matcher-utils@29.7.0 from lock file
npm error Missing: pure-rand@6.1.0 from lock file
npm error Missing: stack-utils@2.0.6 from lock file
npm error Missing: @jest/fake-timers@29.7.0 from lock file
npm error Missing: jest-mock@29.7.0 from lock file
npm error Missing: expect@29.7.0 from lock file
npm error Missing: @sinonjs/fake-timers@10.3.0 from lock file
npm error Missing: @sinonjs/commons@3.0.1 from lock file
npm error Missing: type-detect@4.0.8 from lock file
npm error Missing: @jest/expect-utils@29.7.0 from lock file
npm error Missing: @types/graceful-fs@4.1.9 from lock file
npm error Missing: anymatch@3.1.3 from lock file
npm error Missing: fb-watchman@2.0.2 from lock file
npm error Missing: fsevents@2.3.3 from lock file
npm error Missing: walker@1.0.8 from lock file
npm error Missing: normalize-path@3.0.0 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: bser@2.1.1 from lock file
npm error Missing: node-int64@0.4.0 from lock file
npm error Missing: jest-diff@29.7.0 from lock file
npm error Missing: diff-sequences@29.6.3 from lock file
npm error Missing: @types/stack-utils@2.0.3 from lock file
npm error Missing: jest-pnp-resolver@1.2.3 from lock file
npm error Missing: resolve@1.22.10 from lock file
npm error Missing: resolve.exports@2.0.3 from lock file
npm error Missing: emittery@0.13.1 from lock file
npm error Missing: jest-docblock@29.7.0 from lock file
npm error Missing: jest-leak-detector@29.7.0 from lock file
npm error Missing: source-map-support@0.5.13 from lock file
npm error Missing: detect-newline@3.1.0 from lock file
npm error Missing: @jest/globals@29.7.0 from lock file
npm error Missing: @jest/source-map@29.6.3 from lock file
npm error Missing: cjs-module-lexer@1.4.3 from lock file
npm error Missing: strip-bom@4.0.0 from lock file
npm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file
npm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file
npm error Missing: camelcase@6.3.0 from lock file
npm error Missing: leven@3.1.0 from lock file
npm error Missing: supports-color@8.1.1 from lock file
npm error Missing: braces@3.0.3 from lock file
npm error Missing: fill-range@7.1.1 from lock file
npm error Missing: to-regex-range@5.0.1 from lock file
npm error Missing: mimic-fn@2.1.0 from lock file
npm error Missing: error-ex@1.3.2 from lock file
npm error Missing: json-parse-even-better-errors@2.3.1 from lock file
npm error Missing: lines-and-columns@1.2.4 from lock file
npm error Missing: is-arrayish@0.2.1 from lock file
npm error Missing: find-up@4.1.0 from lock file
npm error Missing: ansi-styles@5.2.0 from lock file
npm error Missing: react-is@18.3.1 from lock file
npm error Missing: kleur@3.0.3 from lock file
npm error Missing: sisteransi@1.0.5 from lock file
npm error Missing: is-core-module@2.16.1 from lock file
npm error Missing: path-parse@1.0.7 from lock file
npm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file
npm error Missing: resolve-from@5.0.0 from lock file
npm error Missing: buffer-from@1.1.2 from lock file
npm error Missing: escape-string-regexp@2.0.0 from lock file
npm error Missing: char-regex@1.0.2 from lock file
npm error Missing: is-number@7.0.0 from lock file
npm error Missing: makeerror@1.0.12 from lock file
npm error Missing: tmpl@1.0.5 from lock file
npm error Missing: yallist@3.1.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: argparse@1.0.10 from lock file
npm error Missing: esprima@4.0.1 from lock file
npm error Missing: sprintf-js@1.0.3 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error Missing: p-try@2.2.0 from lock file
npm error Missing: semver@6.3.1 from lock file
npm error Missing: locate-path@5.0.0 from lock file
npm error Missing: p-locate@4.1.0 from lock file
npm error Missing: p-limit@2.3.0 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_37_50_985Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855.
[debug] [2025-05-11T14:38:23.733Z] Total Function Deployment time: 57152
[debug] [2025-05-11T14:38:23.733Z] 1 Functions Deployed
[debug] [2025-05-11T14:38:23.733Z] 1 Functions Errored
[debug] [2025-05-11T14:38:23.733Z] 0 Function Deployments Aborted
[debug] [2025-05-11T14:38:23.733Z] Average Function Deployment time: 57148
[info] 
[info] Functions deploy had errors with the following functions:
	monthlyLeaderboardRefresh(us-central1)
[debug] [2025-05-11T14:38:23.905Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:23.906Z] Checked if tokens are valid: true, expires at: 1746977810196
[debug] [2025-05-11T14:38:23.906Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-05-11T14:38:24.405Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-05-11T14:38:24.405Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts {"name":"projects/uniexp-bfc54/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-05-11T13:44:16.889361Z","updateTime":"2025-05-11T13:51:06.579891Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"2592000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-05-11T13:44:07.467777068Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/uniexp-bfc54/gcf-artifacts"}
[debug] [2025-05-11T14:38:24.407Z] Functions deploy failed.
[debug] [2025-05-11T14:38:24.408Z] {
  "endpoint": {
    "id": "monthlyLeaderboardRefresh",
    "project": "uniexp-bfc54",
    "region": "us-central1",
    "entryPoint": "monthlyLeaderboardRefresh",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "scheduleTrigger": {
      "schedule": "0 0 1 * *",
      "timeZone": "Asia/Kuala_Lumpur",
      "retryConfig": {}
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"uniexp-bfc54\",\"databaseURL\":\"https://uniexp-bfc54-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"uniexp-bfc54.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "uniexp-bfc54",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/uniexp-bfc54/locations/us-central1/services/monthlyLeaderboardRefresh"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "acd351de6296e432919c59032a819f01da9144ce"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_37_50_985Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: jest@29.7.0 from lock file\nnpm error Missing: @jest/core@29.7.0 from lock file\nnpm error Missing: @jest/types@29.6.3 from lock file\nnpm error Missing: import-local@3.2.0 from lock file\nnpm error Missing: jest-cli@29.7.0 from lock file\nnpm error Missing: @jest/console@29.7.0 from lock file\nnpm error Missing: @jest/reporters@29.7.0 from lock file\nnpm error Missing: @jest/test-result@29.7.0 from lock file\nnpm error Missing: @jest/transform@29.7.0 from lock file\nnpm error Missing: ansi-escapes@4.3.2 from lock file\nnpm error Missing: ci-info@3.9.0 from lock file\nnpm error Missing: exit@0.1.2 from lock file\nnpm error Missing: graceful-fs@4.2.11 from lock file\nnpm error Missing: jest-changed-files@29.7.0 from lock file\nnpm error Missing: jest-config@29.7.0 from lock file\nnpm error Missing: jest-haste-map@29.7.0 from lock file\nnpm error Missing: jest-message-util@29.7.0 from lock file\nnpm error Missing: jest-regex-util@29.6.3 from lock file\nnpm error Missing: jest-resolve@29.7.0 from lock file\nnpm error Missing: jest-resolve-dependencies@29.7.0 from lock file\nnpm error Missing: jest-runner@29.7.0 from lock file\nnpm error Missing: jest-runtime@29.7.0 from lock file\nnpm error Missing: jest-snapshot@29.7.0 from lock file\nnpm error Missing: jest-util@29.7.0 from lock file\nnpm error Missing: jest-validate@29.7.0 from lock file\nnpm error Missing: jest-watcher@29.7.0 from lock file\nnpm error Missing: micromatch@4.0.8 from lock file\nnpm error Missing: pretty-format@29.7.0 from lock file\nnpm error Missing: slash@3.0.0 from lock file\nnpm error Missing: @bcoe/v8-coverage@0.2.3 from lock file\nnpm error Missing: @jridgewell/trace-mapping@0.3.25 from lock file\nnpm error Missing: collect-v8-coverage@1.0.2 from lock file\nnpm error Missing: istanbul-lib-coverage@3.2.2 from lock file\nnpm error Missing: istanbul-lib-instrument@6.0.3 from lock file\nnpm error Missing: istanbul-lib-report@3.0.1 from lock file\nnpm error Missing: istanbul-lib-source-maps@4.0.1 from lock file\nnpm error Missing: istanbul-reports@3.1.7 from lock file\nnpm error Missing: jest-worker@29.7.0 from lock file\nnpm error Missing: string-length@4.0.2 from lock file\nnpm error Missing: v8-to-istanbul@9.3.0 from lock file\nnpm error Missing: @types/istanbul-lib-coverage@2.0.6 from lock file\nnpm error Missing: @babel/core@7.27.1 from lock file\nnpm error Missing: babel-plugin-istanbul@6.1.1 from lock file\nnpm error Missing: convert-source-map@2.0.0 from lock file\nnpm error Missing: pirates@4.0.7 from lock file\nnpm error Missing: write-file-atomic@4.0.2 from lock file\nnpm error Missing: @ampproject/remapping@2.3.0 from lock file\nnpm error Missing: @babel/code-frame@7.27.1 from lock file\nnpm error Missing: @babel/generator@7.27.1 from lock file\nnpm error Missing: @babel/helper-compilation-targets@7.27.2 from lock file\nnpm error Missing: @babel/helper-module-transforms@7.27.1 from lock file\nnpm error Missing: @babel/helpers@7.27.1 from lock file\nnpm error Missing: @babel/parser@7.27.2 from lock file\nnpm error Missing: @babel/template@7.27.2 from lock file\nnpm error Missing: @babel/traverse@7.27.1 from lock file\nnpm error Missing: @babel/types@7.27.1 from lock file\nnpm error Missing: gensync@1.0.0-beta.2 from lock file\nnpm error Missing: json5@2.2.3 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @jridgewell/gen-mapping@0.3.8 from lock file\nnpm error Missing: @babel/helper-validator-identifier@7.27.1 from lock file\nnpm error Missing: js-tokens@4.0.0 from lock file\nnpm error Missing: picocolors@1.1.1 from lock file\nnpm error Missing: jsesc@3.1.0 from lock file\nnpm error Missing: @babel/compat-data@7.27.2 from lock file\nnpm error Missing: @babel/helper-validator-option@7.27.1 from lock file\nnpm error Missing: browserslist@4.24.5 from lock file\nnpm error Missing: lru-cache@5.1.1 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: @babel/helper-module-imports@7.27.1 from lock file\nnpm error Missing: globals@11.12.0 from lock file\nnpm error Missing: @babel/helper-string-parser@7.27.1 from lock file\nnpm error Missing: @jest/schemas@29.6.3 from lock file\nnpm error Missing: @types/istanbul-reports@3.0.4 from lock file\nnpm error Missing: @types/yargs@17.0.33 from lock file\nnpm error Missing: @sinclair/typebox@0.27.8 from lock file\nnpm error Missing: @jridgewell/set-array@1.2.1 from lock file\nnpm error Missing: @jridgewell/sourcemap-codec@1.5.0 from lock file\nnpm error Missing: @jridgewell/resolve-uri@3.1.2 from lock file\nnpm error Missing: @types/istanbul-lib-report@3.0.3 from lock file\nnpm error Missing: @types/yargs-parser@21.0.3 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Missing: @babel/helper-plugin-utils@7.27.1 from lock file\nnpm error Missing: @istanbuljs/load-nyc-config@1.1.0 from lock file\nnpm error Missing: @istanbuljs/schema@0.1.3 from lock file\nnpm error Missing: istanbul-lib-instrument@5.2.1 from lock file\nnpm error Missing: test-exclude@6.0.0 from lock file\nnpm error Missing: camelcase@5.3.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: get-package-type@0.1.0 from lock file\nnpm error Missing: js-yaml@3.14.1 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: caniuse-lite@1.0.30001717 from lock file\nnpm error Missing: electron-to-chromium@1.5.151 from lock file\nnpm error Missing: node-releases@2.0.19 from lock file\nnpm error Missing: update-browserslist-db@1.1.3 from lock file\nnpm error Missing: pkg-dir@4.2.0 from lock file\nnpm error Missing: resolve-cwd@3.0.0 from lock file\nnpm error Missing: make-dir@4.0.0 from lock file\nnpm error Missing: source-map@0.6.1 from lock file\nnpm error Missing: html-escaper@2.0.2 from lock file\nnpm error Missing: execa@5.1.1 from lock file\nnpm error Missing: get-stream@6.0.1 from lock file\nnpm error Missing: human-signals@2.1.0 from lock file\nnpm error Missing: merge-stream@2.0.0 from lock file\nnpm error Missing: npm-run-path@4.0.1 from lock file\nnpm error Missing: onetime@5.1.2 from lock file\nnpm error Missing: signal-exit@3.0.7 from lock file\nnpm error Missing: strip-final-newline@2.0.0 from lock file\nnpm error Missing: create-jest@29.7.0 from lock file\nnpm error Missing: prompts@2.4.2 from lock file\nnpm error Missing: @jest/test-sequencer@29.7.0 from lock file\nnpm error Missing: babel-jest@29.7.0 from lock file\nnpm error Missing: deepmerge@4.3.1 from lock file\nnpm error Missing: jest-circus@29.7.0 from lock file\nnpm error Missing: jest-environment-node@29.7.0 from lock file\nnpm error Missing: jest-get-type@29.6.3 from lock file\nnpm error Missing: parse-json@5.2.0 from lock file\nnpm error Missing: @types/babel__core@7.20.5 from lock file\nnpm error Missing: babel-preset-jest@29.6.3 from lock file\nnpm error Missing: @types/babel__generator@7.27.0 from lock file\nnpm error Missing: @types/babel__template@7.4.4 from lock file\nnpm error Missing: @types/babel__traverse@7.20.7 from lock file\nnpm error Missing: babel-plugin-jest-hoist@29.6.3 from lock file\nnpm error Missing: babel-preset-current-node-syntax@1.1.0 from lock file\nnpm error Missing: @babel/plugin-syntax-async-generators@7.8.4 from lock file\nnpm error Missing: @babel/plugin-syntax-bigint@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-class-properties@7.12.13 from lock file\nnpm error Missing: @babel/plugin-syntax-class-static-block@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-import-attributes@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-import-meta@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-json-strings@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-logical-assignment-operators@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-nullish-coalescing-operator@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-numeric-separator@7.10.4 from lock file\nnpm error Missing: @babel/plugin-syntax-object-rest-spread@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-catch-binding@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-optional-chaining@7.8.3 from lock file\nnpm error Missing: @babel/plugin-syntax-private-property-in-object@7.14.5 from lock file\nnpm error Missing: @babel/plugin-syntax-top-level-await@7.14.5 from lock file\nnpm error Missing: @jest/environment@29.7.0 from lock file\nnpm error Missing: @jest/expect@29.7.0 from lock file\nnpm error Missing: co@4.6.0 from lock file\nnpm error Missing: dedent@1.6.0 from lock file\nnpm error Missing: is-generator-fn@2.1.0 from lock file\nnpm error Missing: jest-each@29.7.0 from lock file\nnpm error Missing: jest-matcher-utils@29.7.0 from lock file\nnpm error Missing: pure-rand@6.1.0 from lock file\nnpm error Missing: stack-utils@2.0.6 from lock file\nnpm error Missing: @jest/fake-timers@29.7.0 from lock file\nnpm error Missing: jest-mock@29.7.0 from lock file\nnpm error Missing: expect@29.7.0 from lock file\nnpm error Missing: @sinonjs/fake-timers@10.3.0 from lock file\nnpm error Missing: @sinonjs/commons@3.0.1 from lock file\nnpm error Missing: type-detect@4.0.8 from lock file\nnpm error Missing: @jest/expect-utils@29.7.0 from lock file\nnpm error Missing: @types/graceful-fs@4.1.9 from lock file\nnpm error Missing: anymatch@3.1.3 from lock file\nnpm error Missing: fb-watchman@2.0.2 from lock file\nnpm error Missing: fsevents@2.3.3 from lock file\nnpm error Missing: walker@1.0.8 from lock file\nnpm error Missing: normalize-path@3.0.0 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: bser@2.1.1 from lock file\nnpm error Missing: node-int64@0.4.0 from lock file\nnpm error Missing: jest-diff@29.7.0 from lock file\nnpm error Missing: diff-sequences@29.6.3 from lock file\nnpm error Missing: @types/stack-utils@2.0.3 from lock file\nnpm error Missing: jest-pnp-resolver@1.2.3 from lock file\nnpm error Missing: resolve@1.22.10 from lock file\nnpm error Missing: resolve.exports@2.0.3 from lock file\nnpm error Missing: emittery@0.13.1 from lock file\nnpm error Missing: jest-docblock@29.7.0 from lock file\nnpm error Missing: jest-leak-detector@29.7.0 from lock file\nnpm error Missing: source-map-support@0.5.13 from lock file\nnpm error Missing: detect-newline@3.1.0 from lock file\nnpm error Missing: @jest/globals@29.7.0 from lock file\nnpm error Missing: @jest/source-map@29.6.3 from lock file\nnpm error Missing: cjs-module-lexer@1.4.3 from lock file\nnpm error Missing: strip-bom@4.0.0 from lock file\nnpm error Missing: @babel/plugin-syntax-jsx@7.27.1 from lock file\nnpm error Missing: @babel/plugin-syntax-typescript@7.27.1 from lock file\nnpm error Missing: camelcase@6.3.0 from lock file\nnpm error Missing: leven@3.1.0 from lock file\nnpm error Missing: supports-color@8.1.1 from lock file\nnpm error Missing: braces@3.0.3 from lock file\nnpm error Missing: fill-range@7.1.1 from lock file\nnpm error Missing: to-regex-range@5.0.1 from lock file\nnpm error Missing: mimic-fn@2.1.0 from lock file\nnpm error Missing: error-ex@1.3.2 from lock file\nnpm error Missing: json-parse-even-better-errors@2.3.1 from lock file\nnpm error Missing: lines-and-columns@1.2.4 from lock file\nnpm error Missing: is-arrayish@0.2.1 from lock file\nnpm error Missing: find-up@4.1.0 from lock file\nnpm error Missing: ansi-styles@5.2.0 from lock file\nnpm error Missing: react-is@18.3.1 from lock file\nnpm error Missing: kleur@3.0.3 from lock file\nnpm error Missing: sisteransi@1.0.5 from lock file\nnpm error Missing: is-core-module@2.16.1 from lock file\nnpm error Missing: path-parse@1.0.7 from lock file\nnpm error Missing: supports-preserve-symlinks-flag@1.0.0 from lock file\nnpm error Missing: resolve-from@5.0.0 from lock file\nnpm error Missing: buffer-from@1.1.2 from lock file\nnpm error Missing: escape-string-regexp@2.0.0 from lock file\nnpm error Missing: char-regex@1.0.2 from lock file\nnpm error Missing: is-number@7.0.0 from lock file\nnpm error Missing: makeerror@1.0.12 from lock file\nnpm error Missing: tmpl@1.0.5 from lock file\nnpm error Missing: yallist@3.1.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: argparse@1.0.10 from lock file\nnpm error Missing: esprima@4.0.1 from lock file\nnpm error Missing: sprintf-js@1.0.3 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error Missing: p-try@2.2.0 from lock file\nnpm error Missing: semver@6.3.1 from lock file\nnpm error Missing: locate-path@5.0.0 from lock file\nnpm error Missing: p-locate@4.1.0 from lock file\nnpm error Missing: p-limit@2.3.0 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-05-11T14_37_50_985Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/2b695f71-2e53-48f4-8b80-415a4e7ead15?project=376632403855."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-11T14:38:24.453Z] Error: Failed to create function monthlyLeaderboardRefresh in region us-central1
    at C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV2Function (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:278:30)
    at async Fabricator.createEndpoint (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:137:13)
    at async handle (C:\Users\USER\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
